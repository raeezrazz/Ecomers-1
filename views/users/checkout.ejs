<!DOCTYPE html>


<style>

.container-fluid.summary {
    border: 1px solid #ccc; /* Add border for visualization */
    padding: 20px; /* Add padding to the box */
    margin: 20px; /* Add margin for spacing */
}

.container-fluid.summary h2 {
    font-size: 18px; /* Adjust the heading font size */
    margin-bottom: 10px; /* Add spacing between heading and content */
}

/* Optional: Add styling for the content inside the box */
.container-fluid.summary p {
    font-size: 14px;
}

.container-fluid.summary span {
    font-weight: bold;
}

.container-fluid.summary .actions button {
    background-color: #007bff; /* Change button background color */
    color: #fff; /* Change button text color */
    padding: 5px 10px; /* Adjust button padding */
    margin-right: 5px; /* Add spacing between buttons */
}
.order_box .payment_item p {
      background: #ecfdff;
      padding: 20px;
    }
  

/* Optional: Add styling for the edit-address-form */
.container-fluid.summary .edit-address-form input {
    width: 100%; /* Make inputs take full width */
    margin-bottom: 10px; /* Add spacing between inputs */
}

.container-fluid.summary .edit-address-form button {
    background-color: #28a745; /* Change save button background color */
    color: #fff; /* Change save button text color */
    padding: 5px 10px; /* Adjust save button padding */
}

</style>
<html lang="en">


<!-- molla/checkout.html  22 Nov 2019 09:55:06 GMT -->
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <title>Molla - Bootstrap eCommerce Template</title>
    <meta name="keywords" content="HTML5 Template">
    <meta name="description" content="Molla - Bootstrap eCommerce Template">
    <meta name="author" content="p-themes">
    <!-- Favicon -->
    <link rel="apple-touch-icon" sizes="180x180" href="assets/images/icons/apple-touch-icon.png">
    <link rel="icon" type="image/png" sizes="32x32" href="assets/images/icons/favicon-32x32.png">
    <link rel="icon" type="image/png" sizes="16x16" href="assets/images/icons/favicon-16x16.png">
    <link rel="manifest" href="assets/images/icons/site.html">
    <link rel="mask-icon" href="assets/images/icons/safari-pinned-tab.svg" color="#666666">
    <link rel="shortcut icon" href="assets/images/icons/favicon.ico">
    <meta name="apple-mobile-web-app-title" content="Molla">
    <meta name="application-name" content="Molla">
    <meta name="msapplication-TileColor" content="#cc9966">
    <meta name="msapplication-config" content="assets/images/icons/browserconfig.xml">
    <meta name="theme-color" content="#ffffff">
    <!-- Plugins CSS File -->
    <link rel="stylesheet" href="assets/css/bootstrap.min.css">
    <!-- Main CSS File -->
    <link rel="stylesheet" href="assets/css/style.css">
</head>

<body>
    <div class="page-wrapper">
        <header class="header">
            <div class="header-top">
                <div class="container">
                    <div class="header-left">
                       

                
                </div><!-- End .container -->
            </div><!-- End .header-top -->

            <div class="header-middle sticky-header">
                <div class="container">
                    <div class="header-left">
                        <button class="mobile-menu-toggler">
                            <span class="sr-only">Toggle mobile menu</span>
                            <i class="icon-bars"></i>
                        </button>

                        <a href="index.html" class="logo">
                            <img src="assets/images/logo.png" alt="Molla Logo" width="105" height="25">
                        </a>

                        <nav class="main-nav">
                            <ul class="menu sf-arrows">
                                <li class="megamenu-container active">
                                    <a href="/loadHome" class="sf-with-ul">Home</a>

                                  
                                </li>
                               
                                <li>
                                    <a href="/loadProducts" class="sf-with-ul">Product</a>

                                  
                                </li>
                              
                             
                            </ul><!-- End .menu -->
                        </nav><!-- End .main-nav -->
                    </div><!-- End .header-left -->

         
                </div><!-- End .container -->
            </div><!-- End .header-middle -->
        </header><!-- End .header -->

        <main class="main">
        	<div class="page-header text-center" style="background-image: url('assets/images/page-header-bg.jpg')">
        		<div class="container">
        			<h1 class="page-title">Checkout<span>Shop</span></h1>
        		</div><!-- End .container -->
        	</div><!-- End .page-header -->
            <nav aria-label="breadcrumb" class="breadcrumb-nav">
                <div class="container">
                    <ol class="breadcrumb">
                        <li class="breadcrumb-item"><a href="index.html">Home</a></li>
                        <li class="breadcrumb-item"><a href="#">Shop</a></li>
                        <li class="breadcrumb-item active" aria-current="page">Checkout</li>
                    </ol>
                </div><!-- End .container -->
            </nav><!-- End .breadcrumb-nav -->

          
            
                <!-- Modal -->
               
            
                <!-- Display selected coupon -->
                <% if (product&&product.couponDiscount) { %>
                    <div class="selected-coupon mt-3">
                        <span>Applied Coupon: <%= product.couponDiscount.name %></span>
                        <button type="button" class="btn btn-danger" onclick="removeAppliedCoupon('<%= product.couponDiscount._id %>')">Remove Coupon</button>
                </div>
                <% }else{ %>
                    
                    <div class="checkout-discount">
                        <button type="button" class="btn btn-primary" data-toggle="modal" data-target="#couponModal">
                            View Available Coupons
                        </button>
                    <div class="modal fade" id="couponModal" tabindex="-1" aria-labelledby="couponModalLabel" aria-hidden="true">
                        <div class="modal-dialog">
                            <div class="modal-content">
                                <div class="modal-header">
                                    <% if (coupon && coupon.length > 0) { %>
                                       
                                    <h5 class="modal-title" id="couponModalLabel">Available Coupons</h5>
                                    <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                                        <span aria-hidden="true">&times;</span>
                                    </button>
                                </div>
                                <div class="modal-body">
                                    <select class="form-control" id="coupon-dropdown">
                                        
                                        <% coupon.forEach(coupon => { %>
                                            <option value="<%= coupon._id %>"><%= coupon.name %></option>
                                        <% }); %>
                                    </select>
                                </div>
                                <div class="modal-footer">
                                    <button type="button" class="btn btn-secondary" data-dismiss="modal">Close</button>
                                    <button type="button" class="btn btn-primary" onclick="applySelectedCoupon()">Apply Selected Coupon</button>
                                </div>
                            </div>
                        </div>
                    </div>
                                    <%}else{%>
                                    <h5 class="modal-title" id="couponModalLabel">No Coupon Available </h5>
                                </div>
                            </div>
                        </div>
                    </div>
                    <%}%>

                <%}%>
            </div>
            
            
		                	<div class="row">
		                		<div class="col-lg-9 summary " style=" ">
                                    <table class="table table-summary  ">
                                            
                                        <thead>
                                            
                                            <tr class="summary-subtotal ">
                                                <td class="p-0 pb-1 pt-1 ">Select Address</td>
                                               
                                            </tr><!-- End .summary-subtotal -->
                                            
                                               
                                                       
                                                <td>
                                                   <% if(typeof data !== 'undefined') {%>
                                                    <form class="col contact_form " id="checkoutform" >
                                                        <div style="width: 100%;" class="row">
                                                        
                                                            <% if(address && address.address && address.address.length>0){%>
                                                              <% address.address.forEach((data,index)=>{%>
                                                
                                                                <div class="address-card">
                                                                  <div style="max-width: 300px;" class="card-body"  >
                                                                  
                                                                    <input type="radio" id="selsectAddress" name="Address" value="<%= index%>" 
                                                                    <%if(index==0) {%>checked<%}%> >
                                                                      <h4 class="account-title text-center">
                                                                        Address<%=index+1%>
                                                                          <hr>
                                                                      </h4>
                                                                      <p style="    margin-left: 20px;">
                                                                        <a  style="font-weight: bold ; font-size: small;">Name :</a>   <a style="font-weight: bold ; font-size: small;"><%=data.name%></a> <br>
                                                                         <a style="font-weight: bold ; font-size: small;"> Address :</a> <a  style="font-weight: bold ; font-size: small;"><%=data.address%> </a><br> 
                                                                                 <a style="font-weight: bold ; font-size: small;">  </a> <a style="font-weight: bold ; font-size: small;"> <%=data.city%><br> </a>
                                                                                     <a style="font-weight: bold ; font-size: small;">  </a> <a style="font-weight: bold ; font-size: small;"><%=data.state%> <br> </a>
                                                                             <a style="font-weight: bold ; font-size: small;">Landmark : </a> <a style="font-weight: bold ; font-size: small;"> <%=data.landmark%> <br> </a>

                                                                                         <a style="font-weight: bold ; font-size: small;">   Pincode :</a> <a style="font-weight: bold ; font-size: small;"><%=data.pincode%> <br> </a>
                                                                                             <a style="font-weight: bold ; font-size: small;">   Phone :</a> <a style="font-weight: bold ; font-size: small;"><%=data.phone%> <br> </a>
                                                                                                 <a style="font-weight: bold ; font-size: small;">  Email : </a> <a style="font-weight: bold ; font-size: small;"><%=data.email%> <br> </a>
                                                
                                                                      </p>
                                                                      <div>
                                                                        <a> <i style="font-size: 1rem;margin-left: 5px;" data-id="<%=data._id%>" data-bs-toggle="modal"
                                                                            data-bs-target="#editModal" class="fa fa-edit"></i></a>
                                                                        <a data-user-id="<%=data._id%>" class="deleteButton"><i style="font-size: 1rem;"
                                                                            class="fa fa-trash"></i></a>
                                                                      </div>
                                                                  </div>
                                                
                                                                </div>
                                                                <%})%>
                                                
                                                                  <%}else{%>
                                                <h4 style="color: rgb(212, 157, 121);">No Address Found</h4>
                                                                        <%}%>
                                                                        
                                                                      </div>
                                                                     
                                                                  
                                                                    
                                                          </div>
                                                    
                                                
                                                    <%}%>
                                                    </td>
                                        </tbody>
                                    </table><!-- End .table table-summary -->
                                    <a href="#add-Address-checkout-modal" class="btn-product btn-cart" id="addAddressBtn" data-toggle="modal"><span>Add new Address</span></a>
		                		</div><!-- End .col-lg-9 -->
		                		<aside class="col-lg-3">
                                    <div></div>
		                			<div class="summary">
		                				<h3 class="summary-title">Your Order</h3><!-- End .summary-title -->
                                        <%if(typeof subtotal !== 'undefined' ){%>
		                				<table class="table table-summary">
                                            
		                					<thead>
		                						
		                						<tr class="summary-subtotal">
		                							<td>Subtotal:</td>
		                							<td style="font-weight:900; color: black;">₹<%= subtotal.toFixed(0) %></td>
		                						</tr><!-- End .summary-subtotal -->
                                                <tr>
                                                    <td>Discount:</td>
                                                    <td><% if (couponDiscount && couponDiscount !== 0) { %>
                                                        <%= (subtotal / couponDiscount).toFixed(0) %>
                                                    <% } else { %>
                                                        <!-- Handle the case where couponDiscount is 0, null, or undefined -->
                                                       0
                                                    <% } %></td>
                                                </tr>
		                						<tr>
		                							<td>Shipping:</td>
		                							<td>Free shipping</td>
		                						</tr>
		                						<tr class="summary-total">
		                							<td>Total:</td>
		                							<td style="font-weight:900; color: black;"><% if (couponDiscount && couponDiscount !== 0) { %>
                                                        ₹<%= (subtotal -(subtotal / couponDiscount)).toFixed(0) %>
                                                    <% } else { %>
                                                        <!-- Handle the case where couponDiscount is 0, null, or undefined -->
                                                     <%=subtotal%>
                                                    <% } %></td>
		                						</tr><!-- End .summary-total -->
		                					</tbody>
		                				</table><!-- End .table table-summary -->

		                				<div class="accordion-summary" id="accordion-payment">
										   

										 

                                            <div class="card">
                                                <!-- Razor Pay Radio Button -->
                                                <div class="card-header" id="heading-1">
                                                    <input type="radio" value="Razor Pay" name="methode" id="RazorPay" checked>
                                                    <label for="RazorPay">Razor Pay</label>
                                                </div><!-- End .card-header -->
                                            
                                                <!-- Wallet Radio Button -->
                                                <div class="card-header" id="heading-2">
                                                    <% if (wallet.wallet < subtotal) { %>
                                                        <input type="radio" value="wallet" name="methode" id="wallet" disabled>
                                                        <label for="wallet">Wallet</label><br>
                                                        <h7>Balance : ₹<%= wallet.wallet %></h7>
                                                    <% } else { %>
                                                        <input type="radio" value="wallet" name="methode" id="wallet">
                                                        <label for="wallet">Wallet</label><br>
                                                        <h7 class="text-success">Balance : ₹<%= wallet.wallet %></h7>
                                                    <% } %>
                                                </div><!-- End .card-header -->
                                            <% if(subtotal <= 1000){%>
                                                <!-- Cash on Delivery Radio Button -->
                                                <div class="card-header" id="heading-3">
                                                    <input type="radio" value="Cash on Delivery" name="methode" id="cod" checked>
                                                    <label for="cod">Cash On Delivery</label>
                                                </div><!-- End .card-header -->
                                            <%}else{%>
                                                <div class="card-header" id="heading-3">
                                                    <input type="radio" value="Cash on Delivery" name="methode" id="cod" disabled>
                                                    <label for="cod">Cash On Delivery</label>
                                                    <div>
                                                       <h7 style="font-size: smaller; font-weight: 400;">Cash on delivery only applicable <br>for Order below 1000</h7>
                                                    </div>
                                                </div><!-- End .card-header -->
                                                <%}%>
                                                <!-- Collapse Content -->
                                                <div id="collapse-3" class="collapse" aria-labelledby="heading-3" data-parent="#cod">
                                                    <div class="card-body">Quisque volutpat mattis eros. Lorem ipsum dolor sit amet, consectetuer adipiscing elit. Donec odio. Quisque volutpat mattis eros.</div><!-- End .card-body -->
                                                </div><!-- End .collapse -->
                                            </div><!-- End .card -->
                                            

										  

										   
										</div><!-- End .accordion -->
                                        <button type="button" onclick="orderPlace(event)" class="btn btn-outline-primary-2 btn-order btn-block" id="placeOrderButton" >
                                            <span class="">Place Order</span>
                                          </button>
                                        </form>
                                    <%}else{%>
                                        <h6 class="text-danger">Something Went wrong, Please try Again</h2>
                                    <%}%>
		                			</div><!-- End .summary -->
		                		</aside><!-- End .col-lg-3 -->
		                	</div><!-- End .row -->
	                </div><!-- End .container -->
                </div><!-- End .checkout -->
          
        </main><!-- End .main -->

        <footer class="footer">
        	<div class="footer-middle">
	            <div class="container">
	            	<div class="row">
	            		<div class="col-sm-6 col-lg-3">
	            			<div class="widget widget-about">
	            				<img src="assets/images/logo.png" class="footer-logo" alt="Footer Logo" width="105" height="25">
	            				<p>Praesent dapibus, neque id cursus ucibus, tortor neque egestas augue, eu vulputate magna eros eu erat. </p>

	            				<div class="social-icons">
	            					<a href="#" class="social-icon" target="_blank" title="Facebook"><i class="icon-facebook-f"></i></a>
	            					<a href="#" class="social-icon" target="_blank" title="Twitter"><i class="icon-twitter"></i></a>
	            					<a href="#" class="social-icon" target="_blank" title="Instagram"><i class="icon-instagram"></i></a>
	            					<a href="#" class="social-icon" target="_blank" title="Youtube"><i class="icon-youtube"></i></a>
	            					<a href="#" class="social-icon" target="_blank" title="Pinterest"><i class="icon-pinterest"></i></a>
	            				</div><!-- End .soial-icons -->
	            			</div><!-- End .widget about-widget -->
	            		</div><!-- End .col-sm-6 col-lg-3 -->

	            		<div class="col-sm-6 col-lg-3">
	            			<div class="widget">
	            				<h4 class="widget-title">Useful Links</h4><!-- End .widget-title -->

	            				<ul class="widget-list">
	            					<li><a href="about.html">About Molla</a></li>
	            					<li><a href="#">How to shop on Molla</a></li>
	            					<li><a href="#">FAQ</a></li>
	            					<li><a href="contact.html">Contact us</a></li>
	            					<li><a href="login.html">Log in</a></li>
	            				</ul><!-- End .widget-list -->
	            			</div><!-- End .widget -->
	            		</div><!-- End .col-sm-6 col-lg-3 -->

	            		<div class="col-sm-6 col-lg-3">
	            			<div class="widget">
	            				<h4 class="widget-title">Customer Service</h4><!-- End .widget-title -->

	            				<ul class="widget-list">
	            					<li><a href="#">Payment Methods</a></li>
	            					<li><a href="#">Money-back guarantee!</a></li>
	            					<li><a href="#">Returns</a></li>
	            					<li><a href="#">Shipping</a></li>
	            					<li><a href="#">Terms and conditions</a></li>
	            					<li><a href="#">Privacy Policy</a></li>
	            				</ul><!-- End .widget-list -->
	            			</div><!-- End .widget -->
	            		</div><!-- End .col-sm-6 col-lg-3 -->

	            		<div class="col-sm-6 col-lg-3">
	            			<div class="widget">
	            				<h4 class="widget-title">My Account</h4><!-- End .widget-title -->

	            				<ul class="widget-list">
	            					<li><a href="#">Sign In</a></li>
	            					<li><a href="cart.html">View Cart</a></li>
	            					<li><a href="#">My Wishlist</a></li>
	            					<li><a href="#">Track My Order</a></li>
	            					<li><a href="#">Help</a></li>
	            				</ul><!-- End .widget-list -->
	            			</div><!-- End .widget -->
	            		</div><!-- End .col-sm-6 col-lg-3 -->
	            	</div><!-- End .row -->
	            </div><!-- End .container -->
	        </div><!-- End .footer-middle -->

	        <div class="footer-bottom">
	        	<div class="container">
	        		<p class="footer-copyright">Copyright © 2019 Molla Store. All Rights Reserved.</p><!-- End .footer-copyright -->
	        		<figure class="footer-payments">
	        			<img src="assets/images/payments.png" alt="Payment methods" width="272" height="20">
	        		</figure><!-- End .footer-payments -->
	        	</div><!-- End .container -->
	        </div><!-- End .footer-bottom -->
        </footer><!-- End .footer -->
    </div><!-- End .page-wrapper -->
    <button id="scroll-top" title="Back to Top"><i class="icon-arrow-up"></i></button>

    <!-- Mobile Menu -->
    <div class="mobile-menu-overlay"></div><!-- End .mobil-menu-overlay -->

    <div class="mobile-menu-container">
        <div class="mobile-menu-wrapper">
            <span class="mobile-menu-close"><i class="icon-close"></i></span>

            <form action="#" method="get" class="mobile-search">
                <label for="mobile-search" class="sr-only">Search</label>
                <input type="search" class="form-control" name="mobile-search" id="mobile-search" placeholder="Search in..." required>
                <button class="btn btn-primary" type="submit"><i class="icon-search"></i></button>
            </form>
            
            <nav class="mobile-nav">
                <ul class="mobile-menu">
                    <li class="active">
                        <a href="index.html">Home</a>

                        <ul>
                            <li><a href="index-1.html">01 - furniture store</a></li>
                            <li><a href="index-2.html">02 - furniture store</a></li>
                            <li><a href="index-3.html">03 - electronic store</a></li>
                            <li><a href="index-4.html">04 - electronic store</a></li>
                            <li><a href="index-5.html">05 - fashion store</a></li>
                            <li><a href="index-6.html">06 - fashion store</a></li>
                            <li><a href="index-7.html">07 - fashion store</a></li>
                            <li><a href="index-8.html">08 - fashion store</a></li>
                            <li><a href="index-9.html">09 - fashion store</a></li>
                            <li><a href="index-10.html">10 - shoes store</a></li>
                            <li><a href="index-11.html">11 - furniture simple store</a></li>
                            <li><a href="index-12.html">12 - fashion simple store</a></li>
                            <li><a href="index-13.html">13 - market</a></li>
                            <li><a href="index-14.html">14 - market fullwidth</a></li>
                            <li><a href="index-15.html">15 - lookbook 1</a></li>
                            <li><a href="index-16.html">16 - lookbook 2</a></li>
                            <li><a href="index-17.html">17 - fashion store</a></li>
                            <li><a href="index-18.html">18 - fashion store (with sidebar)</a></li>
                            <li><a href="index-19.html">19 - games store</a></li>
                            <li><a href="index-20.html">20 - book store</a></li>
                            <li><a href="index-21.html">21 - sport store</a></li>
                            <li><a href="index-22.html">22 - tools store</a></li>
                            <li><a href="index-23.html">23 - fashion left navigation store</a></li>
                            <li><a href="index-24.html">24 - extreme sport store</a></li>
                        </ul>
                    </li>
                    <li>
                        <a href="category.html">Shop</a>
                        <ul>
                            <li><a href="category-list.html">Shop List</a></li>
                            <li><a href="category-2cols.html">Shop Grid 2 Columns</a></li>
                            <li><a href="category.html">Shop Grid 3 Columns</a></li>
                            <li><a href="category-4cols.html">Shop Grid 4 Columns</a></li>
                            <li><a href="category-boxed.html"><span>Shop Boxed No Sidebar<span class="tip tip-hot">Hot</span></span></a></li>
                            <li><a href="category-fullwidth.html">Shop Fullwidth No Sidebar</a></li>
                            <li><a href="product-category-boxed.html">Product Category Boxed</a></li>
                            <li><a href="product-category-fullwidth.html"><span>Product Category Fullwidth<span class="tip tip-new">New</span></span></a></li>
                            <li><a href="cart.html">Cart</a></li>
                            <li><a href="checkout.html">Checkout</a></li>
                            <li><a href="wishlist.html">Wishlist</a></li>
                            <li><a href="#">Lookbook</a></li>
                        </ul>
                    </li>
                    <li>
                        <a href="product.html" class="sf-with-ul">Product</a>
                        <ul>
                            <li><a href="product.html">Default</a></li>
                            <li><a href="product-centered.html">Centered</a></li>
                            <li><a href="product-extended.html"><span>Extended Info<span class="tip tip-new">New</span></span></a></li>
                            <li><a href="product-gallery.html">Gallery</a></li>
                            <li><a href="product-sticky.html">Sticky Info</a></li>
                            <li><a href="product-sidebar.html">Boxed With Sidebar</a></li>
                            <li><a href="product-fullwidth.html">Full Width</a></li>
                            <li><a href="product-masonry.html">Masonry Sticky Info</a></li>
                        </ul>
                    </li>
                    <li>
                        <a href="#">Pages</a>
                        <ul>
                            <li>
                                <a href="about.html">About</a>

                                <ul>
                                    <li><a href="about.html">About 01</a></li>
                                    <li><a href="about-2.html">About 02</a></li>
                                </ul>
                            </li>
                            <li>
                                <a href="contact.html">Contact</a>

                                <ul>
                                    <li><a href="contact.html">Contact 01</a></li>
                                    <li><a href="contact-2.html">Contact 02</a></li>
                                </ul>
                            </li>
                            <li><a href="login.html">Login</a></li>
                            <li><a href="faq.html">FAQs</a></li>
                            <li><a href="404.html">Error 404</a></li>
                            <li><a href="coming-soon.html">Coming Soon</a></li>
                        </ul>
                    </li>
                    <li>
                        <a href="blog.html">Blog</a>

                        <ul>
                            <li><a href="blog.html">Classic</a></li>
                            <li><a href="blog-listing.html">Listing</a></li>
                            <li>
                                <a href="#">Grid</a>
                                <ul>
                                    <li><a href="blog-grid-2cols.html">Grid 2 columns</a></li>
                                    <li><a href="blog-grid-3cols.html">Grid 3 columns</a></li>
                                    <li><a href="blog-grid-4cols.html">Grid 4 columns</a></li>
                                    <li><a href="blog-grid-sidebar.html">Grid sidebar</a></li>
                                </ul>
                            </li>
                            <li>
                                <a href="#">Masonry</a>
                                <ul>
                                    <li><a href="blog-masonry-2cols.html">Masonry 2 columns</a></li>
                                    <li><a href="blog-masonry-3cols.html">Masonry 3 columns</a></li>
                                    <li><a href="blog-masonry-4cols.html">Masonry 4 columns</a></li>
                                    <li><a href="blog-masonry-sidebar.html">Masonry sidebar</a></li>
                                </ul>
                            </li>
                            <li>
                                <a href="#">Mask</a>
                                <ul>
                                    <li><a href="blog-mask-grid.html">Blog mask grid</a></li>
                                    <li><a href="blog-mask-masonry.html">Blog mask masonry</a></li>
                                </ul>
                            </li>
                            <li>
                                <a href="#">Single Post</a>
                                <ul>
                                    <li><a href="single.html">Default with sidebar</a></li>
                                    <li><a href="single-fullwidth.html">Fullwidth no sidebar</a></li>
                                    <li><a href="single-fullwidth-sidebar.html">Fullwidth with sidebar</a></li>
                                </ul>
                            </li>
                        </ul>
                    </li>
                    <li>
                        <a href="elements-list.html">Elements</a>
                        <ul>
                            <li><a href="elements-products.html">Products</a></li>
                            <li><a href="elements-typography.html">Typography</a></li>
                            <li><a href="elements-titles.html">Titles</a></li>
                            <li><a href="elements-banners.html">Banners</a></li>
                            <li><a href="elements-product-category.html">Product Category</a></li>
                            <li><a href="elements-video-banners.html">Video Banners</a></li>
                            <li><a href="elements-buttons.html">Buttons</a></li>
                            <li><a href="elements-accordions.html">Accordions</a></li>
                            <li><a href="elements-tabs.html">Tabs</a></li>
                            <li><a href="elements-testimonials.html">Testimonials</a></li>
                            <li><a href="elements-blog-posts.html">Blog Posts</a></li>
                            <li><a href="elements-portfolio.html">Portfolio</a></li>
                            <li><a href="elements-cta.html">Call to Action</a></li>
                            <li><a href="elements-icon-boxes.html">Icon Boxes</a></li>
                        </ul>
                    </li>
                </ul>
            </nav><!-- End .mobile-nav -->

            <div class="social-icons">
                <a href="#" class="social-icon" target="_blank" title="Facebook"><i class="icon-facebook-f"></i></a>
                <a href="#" class="social-icon" target="_blank" title="Twitter"><i class="icon-twitter"></i></a>
                <a href="#" class="social-icon" target="_blank" title="Instagram"><i class="icon-instagram"></i></a>
                <a href="#" class="social-icon" target="_blank" title="Youtube"><i class="icon-youtube"></i></a>
            </div><!-- End .social-icons -->
        </div><!-- End .mobile-menu-wrapper -->
    </div><!-- End .mobile-menu-container -->

    <!-- Sign in / Register Modal -->
    <div class="modal fade" id="signin-modal" tabindex="-1" role="dialog" aria-hidden="true">
        <div class="modal-dialog modal-dialog-centered" role="document">
            <div class="modal-content">
                <div class="modal-body">
                    <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                        <span aria-hidden="true"><i class="icon-close"></i></span>
                    </button>

                    <div class="form-box">
                        <div class="form-tab">
                            <ul class="nav nav-pills nav-fill" role="tablist">
                                <li class="nav-item">
                                    <a class="nav-link active" id="signin-tab" data-toggle="tab" href="#signin" role="tab" aria-controls="signin" aria-selected="true">Sign In</a>
                                </li>
                                <li class="nav-item">
                                    <a class="nav-link" id="register-tab" data-toggle="tab" href="#register" role="tab" aria-controls="register" aria-selected="false">Register</a>
                                </li>
                            </ul>
                            <div class="tab-content" id="tab-content-5">
                                <div class="tab-pane fade show active" id="signin" role="tabpanel" aria-labelledby="signin-tab">
                                    <form action="#">
                                        <div class="form-group">
                                            <label for="singin-email">Username or email address *</label>
                                            <input type="text" class="form-control" id="singin-email" name="singin-email" required>
                                        </div><!-- End .form-group -->

                                        <div class="form-group">
                                            <label for="singin-password">Password *</label>
                                            <input type="password" class="form-control" id="singin-password" name="singin-password" required>
                                        </div><!-- End .form-group -->

                                        <div class="form-footer">
                                            <button type="submit" class="btn btn-outline-primary-2">
                                                <span>LOG IN</span>
                                                <i class="icon-long-arrow-right"></i>
                                            </button>

                                            <div class="custom-control custom-checkbox">
                                                <input type="checkbox" class="custom-control-input" id="signin-remember">
                                                <label class="custom-control-label" for="signin-remember">Remember Me</label>
                                            </div><!-- End .custom-checkbox -->

                                            <a href="#" class="forgot-link">Forgot Your Password?</a>
                                        </div><!-- End .form-footer -->
                                    </form>
                                    <div class="form-choice">
                                        <p class="text-center">or sign in with</p>
                                        <div class="row">
                                            <div class="col-sm-6">
                                                <a href="#" class="btn btn-login btn-g">
                                                    <i class="icon-google"></i>
                                                    Login With Google
                                                </a>
                                            </div><!-- End .col-6 -->
                                            <div class="col-sm-6">
                                                <a href="#" class="btn btn-login btn-f">
                                                    <i class="icon-facebook-f"></i>
                                                    Login With Facebook
                                                </a>
                                            </div><!-- End .col-6 -->
                                        </div><!-- End .row -->
                                    </div><!-- End .form-choice -->
                                </div><!-- .End .tab-pane -->
                                <div class="tab-pane fade" id="register" role="tabpanel" aria-labelledby="register-tab">
                                    <form action="#">
                                        <div class="form-group">
                                            <label for="register-email">Your email address *</label>
                                            <input type="email" class="form-control" id="register-email" name="register-email" required>
                                        </div><!-- End .form-group -->

                                        <div class="form-group">
                                            <label for="register-password">Password *</label>
                                            <input type="password" class="form-control" id="register-password" name="register-password" required>
                                        </div><!-- End .form-group -->

                                        <div class="form-footer">
                                            <button type="submit" class="btn btn-outline-primary-2">
                                                <span>SIGN UP</span>
                                                <i class="icon-long-arrow-right"></i>
                                            </button>

                                            <div class="custom-control custom-checkbox">
                                                <input type="checkbox" class="custom-control-input" id="register-policy" required>
                                                <label class="custom-control-label" for="register-policy">I agree to the <a href="#">privacy policy</a> *</label>
                                            </div><!-- End .custom-checkbox -->
                                        </div><!-- End .form-footer -->
                                    </form>
                                    <div class="form-choice">
                                        <p class="text-center">or sign in with</p>
                                        <div class="row">
                                            <div class="col-sm-6">
                                                <a href="#" class="btn btn-login btn-g">
                                                    <i class="icon-google"></i>
                                                    Login With Google
                                                </a>
                                            </div><!-- End .col-6 -->
                                            <div class="col-sm-6">
                                                <a href="#" class="btn btn-login  btn-f">
                                                    <i class="icon-facebook-f"></i>
                                                    Login With Facebook
                                                </a>
                                            </div><!-- End .col-6 -->
                                        </div><!-- End .row -->
                                    </div><!-- End .form-choice -->
                                </div><!-- .End .tab-pane -->
                            </div><!-- End .tab-content -->
                        </div><!-- End .form-tab -->
                    </div><!-- End .form-box -->
                </div><!-- End .modal-body -->
            </div><!-- End .modal-content -->
        </div><!-- End .modal-dialog -->
    </div><!-- End .modal -->

    <div class="modal fade" id="add-Address-checkout-modal" tabindex="-1" role="dialog" aria-hidden="true">
        <div class="modal-dialog modal-dialog-centered" role="document">
            <div class="modal-content">
                <div class="modal-body">
                    <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                        <span aria-hidden="true"><i class="icon-close"></i></span>
                    </button>

                    <div class="form-box">
                        <div class="form-tab">
                            <ul class="nav nav-pills nav-fill" role="tablist">
                                
                                    <a class="nav-link active" id="signin-tab" data-toggle="tab" role="tab" aria-controls="signin" aria-selected="true">Add New Address</a>
                               
                               
                            </ul>
                            <div class="tab-content" id="tab-content-5">
                                <div class="tab-pane fade show active" id="signin" role="tabpanel" aria-labelledby="signin-tab">
                                    <form  id="addForm" action="/addAddress" method="post">
                                        <div class="row"> 
                                        
                                        <div class="form-group">
                                            <label for="singin-email">Name *</label>
                                            <input type="text" class="form-control" id="add-name" name="name" >
                                            <span class="text-danger" id="pnameError"></span>
                                        </div><!-- End .form-group -->

                                         
                                        <div class="form-group ml-5 pl-4">
                                            <label for="">Email *</label>
                                            <input type="email" class="form-control" id="add-email" name="email" >
                                            <span class="text-danger" id="pemailError"></span>
                                        </div><!-- End .form-group -->

                                    </div> 
                                        <div class="form-group">
                                            <label for="">Address *</label>
                                            <input type="text" class="form-control" id="add-address" name="address" >
                                            <span class="text-danger" id="paddressError"></span>
                                        </div><!-- End .form-group -->

                                        <div class="row">
                                        <div class="form-group ">
                                            <label for="">Landmark *</label>
                                            <input type="text" class="form-control" id="add-landmark" name="landmark" >
                                            <span class="text-danger" id="plandmarkError"></span>
                                            
                                        </div><!-- End .form-group -->

                                         
                                        <div class="form-group ml-5 pl-4">
                                            <label for="">City *</label>
                                            <input type="text" class="form-control" id="add-city" name="city" >
                                            <span class="text-danger" id="pcityError"></span>
                                            
                                        </div><!-- End .form-group -->
                                       </div>
                                      <div class="row">
                                          
                                        <div class="form-group">
                                            <label for="">District *</label>
                                            <input type="text" class="form-control" id="add-district" name="district" >
                                            <span class="text-danger" id="pdistrictError"></span>
                                            
                                        </div><!-- End .form-group -->

                                        
                                        <div class="form-group ml-5 pl-4">
                                            <label for="">State *</label>
                                            <input type="text" class="form-control" id="add-state" name="state" >
                                            <span class="text-danger" id="pstateError"></span>
                                            
                                        </div><!-- End .form-group -->

                                      </div>
                                        <div class="row">
                                            
                                        <div class="form-group">
                                            <label for="">Pincode *</label>
                                            <input type="number" class="form-control" id="add-pincode" name="pincode" >
                                            <span class="text-danger" id="ppincodeError"></span>
                                            
                                        </div><!-- End .form-group -->

                                        
                                        <div class="form-group ml-5 pl-4">
                                            <label for="">Phone Number *</label>
                                            <input type="number" class="form-control" id="add-phone" name="phone" >
                                            <span class="text-danger" id="pphoneError"></span>
                                            
                                        </div><!-- End .form-group -->
                                        </div>
                                        <input type="hidden" name="redirect" value="checkout">
                                       
                                        <div class="form-footer">
                                            <button type="submit" class="btn btn-outline-primary-2" onclick="validateForm(event)">
                                                <span>ADD ADDRESS</span>
                                                <i class="icon-long-arrow-right"></i>
                                            </button>

                                            
                                               
                                            </div><!-- End .custom-checkbox -->

                                            
                                        </div><!-- End .form-footer -->
                                    </form>
                                    <div class="form-choice">
                                        
                                        <div class="row">
                                           
                                           
                                        </div><!-- End .row -->
                                    </div><!-- End .form-choice -->
                                </div><!-- .End .tab-pane -->
                               
                            </div><!-- End .tab-content -->
                        </div><!-- End .form-tab -->
                    </div><!-- End .form-box -->
                </div><!-- End .modal-body -->
            </div><!-- End .modal-content -->
        </div><!-- End .modal-dialog -->

    <!-- Plugins JS File -->
    <script src="assets/js/jquery.min.js"></script>
    <script src="assets/js/bootstrap.bundle.min.js"></script>
    <script src="assets/js/jquery.hoverIntent.min.js"></script>
    <script src="assets/js/jquery.waypoints.min.js"></script>
    <script src="assets/js/superfish.min.js"></script>
    <script src="assets/js/owl.carousel.min.js"></script>
    <script src="path/to/script-with-submitForm.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/sweetalert2@11"></script>
    <script src="https://checkout.razorpay.com/v1/checkout.js"></script>


<!-- Include the script with the event listener -->
<script src="path/to/other-script.js"></script>
    <!-- Main JS File -->
    <script src="assets/js/main.js"></script>


<script>
 function submitForm(event) {
  console.log("hi there");
  event.preventDefault();
  console.log("second");

  // Check if any address is selected
  var selectedAddress = document.querySelector('input[name="selsectAddress"]:checked');
  console.log("second");
  console.log(selectedAddress);

  // Create FormData object based on the selected address or new address fields
  console.log("second");
  var formElement = document.getElementById('form1here');

  if (formElement) {
  console.log("Form element found:", formElement);

  var formData = selectedAddress ? new FormData(formElement) : new FormData();
  console.log("FormData:", formData);

    // Convert FormData to a plain object
    var formObject = {};
    formData.forEach(function (value, key) {
      formObject[key] = value;
    });

    // Send data to the server using fetch
    fetch('/placeOrder', {  
      method: 'POST',
      headers: {
        'Content-Type': 'application/json',
      },
      body: JSON.stringify(formObject),
    })
      .then(response => response.json())
      .then(data => {
        // Handle the response from the server as needed
        console.log('Server response:', data);
      })
      .catch(error => {
        console.error('Error:', error);
      });
  }
}

// Attach the submitForm function to the form submission event
document.getElementById('form1here').addEventListener('submit', submitForm);

 </script>
<script>
    // Populate dropdown on modal show
    $('#couponModal').on('show.bs.modal', function () {
  
    });

    // Apply selected coupon from modal
    function applySelectedCoupon() {
        let selectedCouponCode = $('#coupon-dropdown').val();
        console.log("Selected Coupon Code:", selectedCouponCode);

        $('#couponModal').modal('hide');
        $.ajax({
            url:'/applyCoupon',
            method:'POST',
            data:{couponId:selectedCouponCode},
            success: (response) => {
            if (response.success) {
              Swal.fire({
                title: "Coupon Applied",
                icon: "success",
                confirmButtonText: "OK",
              }).then((result) => {
                if (result.isConfirmed) {
                location.reload()
                }
              });
            } else {
              Swal.fire({
                title: "Error Applying coupon",
                icon: "error",
                confirmButtonText: "OK",
              });
            }
            }
        })
    

    }
    </script>
    <script>
  function removeAppliedCoupon(id){
      const couponId = id
      console.log(couponId)
      Swal.fire({
                title: "Are you sure?",
                text: "You won't be able to revert this!",
                icon: "warning",
                showCancelButton: true,
                confirmButtonColor: "#3085d6",
                cancelButtonColor: "#d33",
                confirmButtonText: "Yes, Remove it!"
            }).then(async (result) => {
                if (result.isConfirmed) {
                    console.log("is confirm")

                    const response = await fetch('/removeCoupon', {
                        method: 'PATCH',
                        headers: {
                            'Content-Type': 'application/json'
                        },
                        body: JSON.stringify({ couponId })

                    }).then(response => response.json())
                        .then(data => {
                            if (data.success === true) {
                                Swal.fire({
                                    title: "Removed!",
                                    text: "Your Coupon has been Removed.",
                                    icon: "success",
                                    timer: 3000
                                })
                                    .then(() => {
                                        location.reload()
                                    })
                            }else{
                                Swal.fire({
                                    title: "Failed!",
                                    text: "Something Went Wrong Try Again.",
                                    icon: "error",
                                    timer: 3000
                                })
                                .then(() => {
                                        location.reload()
                                    })
                            }



                        })



                }
            });
  }
</script>
<script>

    function validateForm() {
      console.log("yyyyyy");
      var selectedAddress = document.querySelector('input[name="selsectAddress"]:checked');

      if (selectedAddress) {
        return true
      } else {

        console.log("hetttt");
        var name = document.getElementById('idname').value
        var email = document.getElementById('idemail').value
        var mobile = document.getElementById('idmobile').value
        var city = document.getElementById('idcity').value
        var landmark = document.getElementById('idlandmark').value
        var pinCode = document.getElementById('idpincode').value
        var state = document.getElementById('idstate').value
        var address = document.getElementById('idaddress').value
        if (name == "" || email == "" || mobile == "" || city == "" || landmark == "" || pinCode == "" || state == "" || address == "") {
          document.getElementById("Error").innerText = "Empty input field . pleas fill "
          return false
        }
        if (!/^[a-zA-Z]+(?: [a-zA-Z]+)*$/.test(name)) {

          document.getElementById("nameError").innerText = "pleas enter name "
          return false
        } else {
          document.getElementById('nameError').innerText = ""

        } if (!/^[a-zA-Z_.-]+@[a-zA-Z-]+\.[a-zA-Z]{2,4}$/.test(email)) {
          document.getElementById("emailError").innerText = "pleas enter valid email"
          return false
        } else {
          document.getElementById('emailError').innerText = ""
        } if (!/^\d{10}$/.test(mobile)) {
          document.getElementById("mobileError").innerText = "pleas enter 10 digit number"
          return false
        } else {
          document.getElementById("mobileError").innerText = ""
        } if (!/^[a-zA-Z]+(?: [a-zA-Z]+)*$/.test(city)) {

          document.getElementById("cityError").innerText = "pleas enter City "
          return false
        } else {
          document.getElementById('cityError').innerText = ""

        } if (!/^\d{6}$/.test(pinCode)) {
          document.getElementById("pincodeError").innerText = "Please enter a valid 6-digit PIN code.";
          return false;
        } else {
          document.getElementById('pincodeError').innerText = "";
        } if (!/^[a-zA-Z0-9\s]+$/.test(landmark)) {
          document.getElementById("landmarkError").innerText = "Please enter a valid landmark.";
          return false;
        } else {
          document.getElementById('landmarkError').innerText = "";
        } if (!/^[a-zA-Z\s]+$/.test(state)) {

          document.getElementById("stateError").innerText = "pleas enter state "
          return false
        } else {
          document.getElementById('stateError').innerText = ""

        } if (!/^[a-zA-Z0-9\s.,\-\/]+$/.test(address)) {
          document.getElementById("addressError").innerText = "Please enter a valid address.";
          return false;
        } else {
          document.getElementById('addressError').innerText = "";
        }
        return true
      }
    }

  </script>
 <script>
    function validateForm(event){
     event.preventDefault();
     const name= $("#add-name").val()
     const address=$("#add-address").val()
     const landmark =$("#add-landmark").val()
     const state = $("#add-state").val()
     const city =$("#add-city").val()
     const district = $("#add-district").val()
     const pincode = $("#add-pincode").val()
     const phone = $("#add-phone").val()
     const email = $("#add-email").val()

     $(".text-danger").text("");

     if(name.trim() ===""){
         $("#pnameError").text("Name is required")
     }else if(address.trim() ===""){
         $("#paddressError").text("Address is required")
     }else if(state.trim()===""){
         $("#pstateError").text("State is required")
     }else if(city.trim()===""){
         $("#pcityError").text("City i required")
     }else if(district.trim()===""){
         $("#pdistrictError").text("District is required")
     }else if(pincode.trim()===""){
         $("#ppincodeError").text("Pincode is required")
     }else if(phone.trim()===""){
         $("#pphoneError").text("Phone number is required")
     }else if(email.trim()===""){
         $("#pemailError").text("Email is required")
     }
     if (/^\s/.test(name)) {
         $("#pnameError").text("Leading spaces not allowed");
     } else if (/^\s/.test(address)) {
         $("#paddressError").text("Leading spaces not allowed");
     } else if (/^\s/.test(state)) {
         $("#pstateError").text("Leading spaces not allowed");
     } else if (/^\s/.test(city)) {
         $("#pcityError").text("Leading spaces not allowed");
     } else if (/^\s/.test(district)) {
         $("#pdistrictError").text("Leading spaces not allowed");
     } else if (/^\s/.test(pincode)) {
         $("#ppincodeError").text("Leading spaces not allowed");
     } else if (/^\s/.test(phone)) {
         $("#pphoneError").text("Leading spaces are allowed");
     }else if (/^\s/.test(email)) {
         $("#pemailError").text("Leading spaces are allowed");
     }else if(phone.length <10){
         $("#pphoneError").text("Enter 10 digit number   ");
     }
     // Check for any validation errors before submitting the form
     if (!$(".text-danger").text()) {
         $("#addForm").submit();
     } else {
         // Return false to prevent further processing
         return false;
     }
    }

 </script>
<script>

  function orderPlace(event){
    event.preventDefault();
console.log("drfyghbbitgu")
const myform = document.getElementById('checkoutform')
console.log("drfyghbbitgu")

    const formData=$('#checkoutform').serialize();
console.log(formData,"gd");

      
       
        $.ajax({
            url:'/placeOrder',
            method:'POST',
            data:formData,
            success:(response)=>{
                 console.log(response)
                if(response.success===true){
                    location.href='/successOrder'
                }else{
                    console.log("reached here")
                    razorpayPayment(response.order)
                }
            }
        })
        }
    </script>

    <script> 
   async function razorpayPayment(order){
        console.log(order,"joojojoj");
var options = {
    "key": "rzp_test_ALMHXTFiHgePY1", // Enter the Key ID generated from the Dashboard
    "amount": order.amount, // Amount is in currency subunits. Default currency is INR. Hence, 50000 refers to 50000 paise
    "currency": "INR",
    "name": "Fashion Store", //your business name
    "description": "Test Transaction",
    "image": "https://example.com/your_logo",
    "order_id": order.id, //This is a sample Order ID. Pass the `id` obtained in the response of Step 1
    "handler": function (response) {
            verifyPayment(response, order)
          },
    "prefill": { //We recommend using the prefill parameter to auto-fill customer's contact information especially their phone number
        "name": "Gaurav Kumar", //your customer's name
        "email": "gaurav.kumar@example.com",
        "contact": "9000090000" //Provide the customer's phone number for better conversion rates 
    },
    "notes": {
        "address": "Razorpay Corporate Office"
    },
    "theme": {
        "color": "#3399cc"
    }
};
console.log("razor pay reached here")
var rzp1 = new Razorpay(options);
await rzp1.open()


    }
     function verifyPayment(payment, order) {
       
        console.log(payment,order,"huhuhuhuhuhuhuhuhuh")
    
        console.log(payment, order, 'hgghjhg');

        $.ajax({
          url: "/verifypayment",
          method: 'post',
          data: {
            payment,
            order
          },
          success: (response) => {
            if (response.success) {
              console.log("helooo");
              location.href = '/successOrder'
            }else{
                location.href = '/products'
            }
          }

        })
    }
    
</script>
</body>


<!-- molla/checkout.html  22 Nov 2019 09:55:06 GMT -->
</html>