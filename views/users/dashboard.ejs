<!DOCTYPE html>
<html lang="en">


<!-- molla/dashboard.html  22 Nov 2019 10:03:13 GMT -->

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <title>Molla - Bootstrap eCommerce Template</title>
    <meta name="keywords" content="HTML5 Template">
    <meta name="description" content="Molla - Bootstrap eCommerce Template">
    <meta name="author" content="p-themes">
    <!-- Favicon -->
    <!-- Bootstrap JavaScript and dependencies -->
    <script src="https://code.jquery.com/jquery-3.6.4.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/2.10.2/umd/popper.min.js"></script>
    <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.6.0/js/bootstrap.min.js"></script>

    <link rel="apple-touch-icon" sizes="180x180" href="assets/images/icons/apple-touch-icon.png">
    <link rel="icon" type="image/png" sizes="32x32" href="assets/images/icons/favicon-32x32.png">
    <link rel="icon" type="image/png" sizes="16x16" href="assets/images/icons/favicon-16x16.png">
    <link rel="manifest" href="assets/images/icons/site.html">
    <link rel="mask-icon" href="assets/images/icons/safari-pinned-tab.svg" color="#666666">
    <link rel="shortcut icon" href="assets/images/icons/favicon.ico">
    <meta name="apple-mobile-web-app-title" content="Molla">
    <meta name="application-name" content="Molla">
    <meta name="msapplication-TileColor" content="#cc9966">
    <meta name="msapplication-config" content="assets/images/icons/browserconfig.xml">
    <meta name="theme-color" content="#ffffff">
    <!-- Plugins CSS File -->
    <link rel="stylesheet" href="assets/css/bootstrap.min.css">
    <!-- Main CSS File -->
    <link rel="stylesheet" href="assets/css/style.css">
    <style>
        body{background-color: #eee}.card{border:none;position: relative}.off{font-size: 60px;margin-top: -16px !important;color: blue}.flat{font-size: 20px}.star{margin-top: 25px !important;font-size: 28px}.line{padding-right: 8rem!important;padding-left: 8rem!important}.line hr{height: 2px}
    </style>
</head>
<style>
    .profile-container {
        width: 70%;
        max-width: 500px;
        margin: auto;
        /* Adjust margin as needed */
    }

    .profile-card {
        background-color: #f5f5f5;
        padding: 30px;
        border-radius: 10px;
        box-shadow: 0 0 20px rgba(0, 0, 0, 0.1);
        text-align: center;
    }
    
    .pagination .btn {
        padding: 5px 10px;
        font-size: 12px;
    }
    .profile-card h2 {
        color: #333;
        font-size: 28px;
        margin-bottom: 20px;
    }

    .wallet-tab {
        padding: 20px;
    }


    .wallet-container {
        background-color: #f1f1f1;
        border-radius: 10px;
        padding: 20px;
        box-shadow: 0 0 10px rgba(0, 0, 0, 0.1);
    }

    .wallet-card {
        text-align: center;
    }

    .wallet-card h2 {
        font-size: 24px;
        color: #333;
    }

    .wallet-details {
        margin-top: 20px;
    }

    .wallet-details p {
        font-size: 16px;
        color: #555;
    }

    .wallet-details strong {
        color: #333;
    }

    .wallet-actions {
        margin-top: 30px;
    }

    .add-money-button {
        background-color: #4CAF50;
        color: white;
        padding: 10px 20px;
        border: none;
        border-radius: 5px;
        cursor: pointer;
        font-size: 16px;
        transition: background-color 0.3s;
    }

    .add-money-button:hover {
        background-color: #45a049;
    }


    .profile-details {
        display: flex;
        flex-direction: column;
        gap: 15px;
    }

    .profile-details p {
        margin: 0;
        color: #555;
        font-size: 16px;
    }

    .edit-button {
        background-color: #3498db;
        color: #fff;
        padding: 12px 20px;
        border: none;
        border-radius: 5px;
        cursor: pointer;
        font-weight: bold;
        transition: background-color 0.3s;
    }

    .edit-button:hover {
        background-color: #2980b9;
    }
</style>

<body>
    <div class="page-wrapper">
        <header class="header">

            <div class="header-middle sticky-header">
                <div class="container">
                    <div class="header-left">
                        <button class="mobile-menu-toggler">
                            <span class="sr-only">Toggle mobile menu</span>
                            <i class="icon-bars"></i>
                        </button>

                        <a href="index.html" class="logo">
                            <img src="assets/images/logo.png" alt="Molla Logo" width="105" height="25">
                        </a>

                        <nav class="main-nav">
                            <ul class="menu sf-arrows">
                                <li class="megamenu-container active">
                                    <a href="/loadHome" class="sf-with-ul">Home</a>


                                </li>
                             
                                <li>
                                    <a href="/loadProducts" class="sf-with-ul">Product</a>



                                </li>
                            </ul><!-- End .menu -->
                        </nav><!-- End .main-nav -->
                    </div><!-- End .header-left -->

                    <div class="header-right">
                        <div class="header-search">
                            <a href="#" class="search-toggle" role="button" title="Search"><i
                                    class="icon-search"></i></a>

                        </div><!-- End .header-search -->
                        <div class="dropdown compare-dropdown">
                            <a href="#" class="dropdown-toggle" role="button" data-toggle="dropdown"
                                aria-haspopup="true" aria-expanded="false" data-display="static"
                                title="Compare Products" aria-label="Compare Products">
                                <i class="icon-random"></i>
                            </a>

                            <div class="dropdown-menu dropdown-menu-right">
                                <ul class="compare-products">
                                    <li class="compare-product">
                                        <a href="#" class="btn-remove" title="Remove Product"><i
                                                class="icon-close"></i></a>
                                        <h4 class="compare-product-title"><a href="product.html">Blue Night Dress</a>
                                        </h4>
                                    </li>
                                    <li class="compare-product">
                                        <a href="#" class="btn-remove" title="Remove Product"><i
                                                class="icon-close"></i></a>
                                        <h4 class="compare-product-title"><a href="product.html">White Long Skirt</a>
                                        </h4>
                                    </li>
                                </ul>

                                <div class="compare-actions">
                                    <a href="#" class="action-link">Clear All</a>
                                    <a href="#" class="btn btn-outline-primary-2"><span>Compare</span><i
                                            class="icon-long-arrow-right"></i></a>
                                </div>
                            </div><!-- End .dropdown-menu -->
                        </div><!-- End .compare-dropdown -->

                        <div class="dropdown cart-dropdown">
                            <a href="#" class="dropdown-toggle" role="button" data-toggle="dropdown"
                                aria-haspopup="true" aria-expanded="false" data-display="static">
                                <i class="icon-shopping-cart"></i>
                            </a>

                            <div class="dropdown-menu dropdown-menu-right">
                                <% if(cart&& cart.length>0){ %>
                                <div class="dropdown-cart-products">
                                  
                                    <%cart.product.forEach((val)=>{ %>
                                    <div class="product">
                                        
                                        <div class="product-cart-details">
                                            <h4 class="product-title">
                                                <a href=""><%=val.productId.name%></a>
                                            </h4>

                                            <span class="cart-product-info">
                                                <span class="cart-product-qty"><%= val.quantity%></span>
                                                x ₹<%= val.productId.price%>
                                            </span>
                                        </div><!-- End .product-cart-details -->
                                   

                                        <figure class="product-image-container">
                                            <a href="product.html" class="product-image">
                                                <img src="/multerImage/<%=val.productId.images[0]%>" alt="<%=val.productId.name%>">
                                            </a>
                                        </figure>
                                        <a href="#" class="btn-remove" title="Remove Product"><i class="icon-close"></i></a>
                                    </div><!-- End .product -->
                                    <%})%>
                                </div><!-- End .cart-product -->

                                <div class="dropdown-cart-total">
                                    <span>Total</span>
                                   
                                    <span class="cart-total-price">₹<%=subtotal%></span>
                            
                                </div><!-- End .dropdown-cart-total -->

                                <div class="dropdown-cart-action">
                                    <a href="/loadCart" class="btn btn-primary">View Cart</a>
                                    <a href="checkout.html" class="btn btn-outline-primary-2"><span>Checkout</span><i class="icon-long-arrow-right"></i></a>
                                </div><!-- End .dropdown-cart-total -->
                                <%}else{%>
                                    <h6>No Items in the Cart</h6>
                                    <a href="/loadCart" class="btn btn-primary">View Cart</a>

                                    <%}%>
                            </div><!-- End .dropdown-menu -->
                        </div><!-- End .cart-dropdown -->
                    </div><!-- End .header-right -->
                </div><!-- End .container -->
            </div><!-- End .header-middle -->
        </header><!-- End .header -->

        <main class="main">
            <div class="page-header text-center" style="background-image: url('assets/images/page-header-bg.jpg')">
                <div class="container">
                    <h1 class="page-title">My Account<span>Shop</span></h1>
                </div><!-- End .container -->
            </div><!-- End .page-header -->
            <nav aria-label="breadcrumb" class="breadcrumb-nav mb-3">
                <div class="container">
                    <ol class="breadcrumb">
                        <li class="breadcrumb-item"><a href="index.html">Home</a></li>
                        <li class="breadcrumb-item"><a href="#">Shop</a></li>
                        <li class="breadcrumb-item active" aria-current="page">My Account</li>
                    </ol>
                </div><!-- End .container -->
            </nav><!-- End .breadcrumb-nav -->

            <div class="page-content">
                <div class="dashboard">
                    <div class="container">
                        <div class="row">
                            <aside class="col-md-4 col-lg-3">
                                <ul class="nav nav-dashboard flex-column mb-3 mb-md-0" role="tablist">
                                    <li class="nav-item">
                                        <a style="font-weight: bold;" class="nav-link active" id="tab-dashboard-link"
                                            data-toggle="tab" href="#tab-dashboard" role="tab"
                                            aria-controls="tab-dashboard" aria-selected="true">Dashboard</a>
                                    </li>
                                    <li class="nav-item">
                                        <a style="font-weight: bold;" class="nav-link" id="tab-orders-link"
                                            data-toggle="tab" href="#tab-orders" role="tab" aria-controls="tab-orders"
                                            aria-selected="false">Orders</a>
                                    </li>
                               
                                    <li class="nav-item">
                                        <a style="font-weight: bold;" class="nav-link" id="tab-address-link"
                                            data-toggle="tab" href="#tab-address" role="tab" aria-controls="tab-address"
                                            aria-selected="false">Adresses</a>
                                    </li>
                                  
                                    <li class="nav-item">
                                        <a style="font-weight: bold;" class="nav-link" id="tab-wallet-link"
                                            data-toggle="tab" href="#tab-coupon" role="tab" aria-controls="tab-wallet"
                                            aria-selected="false">Coupon</a>
                                    </li>
                                    <li class="nav-item">
                                        <a style="font-weight: bold;" class="nav-link" id="tab-wallet-link"
                                            data-toggle="tab" href="#tab-wallet" role="tab" aria-controls="tab-wallet"
                                            aria-selected="false">Wallet</a>
                                    </li>
                                    <li class="nav-item">
                                        <a style="font-weight: bold;" class="nav-link" href="/logout">Sign Out</a>
                                    </li>
                                </ul>
                            </aside><!-- End .col-lg-3 -->

                            <div class="col-md-8 col-lg-9">
                                <div class="tab-content">

                                    <div class="tab-pane fade show active" id="tab-dashboard" role="tabpanel"
                                        aria-labelledby="tab-dashboard-link">
                                        <div class="profile-container">

                                            <div class="profile-card">
                                                <h2>User Profile</h2>
                                                <div class="profile-details">
                                                    <p><strong>Name:</strong> <span id="profile-name">
                                                            <%= user.name %>
                                                        </span></p>
                                                    <p><strong>Email:</strong> <span id="profile-email">
                                                            <%= user.email %>
                                                        </span></p>
                                                    <p><strong>Mobile:</strong> <span id="profile-mobile">
                                                            <%= user.mobile %>
                                                        </span></p>
                                                        <p><strong>Referal Code:</strong> <span id="profile-mobile">
                                                            <%= user.referalCode %>
                                                        </span></p>
                                                </div>
                                                <div class="product-details-action">
                                                    <button class="btn btn-outline-primary-2" data-toggle="modal"
                                                        data-target="#edit-profile-modal">Edit Profile</button>



                                                    <div class="details-action-wrapper">
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                    </div>

                                    <div class="tab-pane fade" id="tab-orders" role="tabpanel"
                                        aria-labelledby="tab-orders-link">
                                        <% if(typeof order !=='undefined' ) { %>
                                            <div class="order-container">
                                                <div class="order-table" style="width: 112%;">
                                                    <div class="table-responsive">
                                                        <table id="tablePagination"
                                                            class="table table-bordered table-hover table-striped">
                                                            <thead class="thead-dark">
                                                                <tr>
                                                                    <th scope="col">Sl.No.</th>
                                                                    <th scope="col">Date</th>

                                                                    <th scope="col">Amount</th>
                                                                    <th scope="col">Payment Method</th>
                                                                    <th scope="col">Details</th>
                                                                    <th scope="col">Invoice</th>
                                                                </tr>
                                                            </thead>
                                                            <% console.log(order, "hiii" ); %>
                                                                <tbody>
                                                                    <% for (let i=0; i < order.length; i++) { %>
                                                                        <tr>
                                                                            <td style="font-weight: bold;">
                                                                                <%= i + 1 %>
                                                                            </td>
                                                                            <td style="font-weight: bold;">
                                                                                <%= order[i].orderDate.toLocaleDateString('en-US',
                                                                                    { weekday: 'short' , year: 'numeric'
                                                                                    , month: 'short' , day: 'numeric' })
                                                                                    %>
                                                                            </td>

                                                                            <td style="font-weight: bold;">₹<%=
                                                                                    order[i].subtotal %>
                                                                            </td>
                                                                            <td style="font-weight: bold;">
                                                                                <% if(order[i].orderStatus ==='pending' ){ %>
                                                                                <%= order[i].payment %>[<a href="" class="text-danger">Pending</a>]
                                                                                <%}else{%>
                                                                                <%= order[i].payment %>

                                                                                <%}%>
                                                                            </td>
                                                                            <td style="font-weight: bold;">
                                                                                <a
                                                                                    href="/fullOrder/<%= order[i]._id %>">
                                                                                    <button
                                                                                        class="btn btn-outline-primary-2">View</button>
                                                                                </a>
                                                                            </td>
                                                                            <td>
                                                                                <a href="/pdf/<%=order[i]._id%>">Downlaod</a>
                                                                            </td>
                                                                        </tr>
                                                                        <% } %>
                                                                </tbody>
                                                        </table>
                                                    </div>
                                                </div>
                                            </div>
                                            <% } else { %>
                                                <h5>No order has been made yet.</h5>
                                                <% } %>
                                                    <a href="category.html"
                                                        class="go-shop-button btn btn-outline-primary-2"><span>GO
                                                            SHOP</span><i class="icon-long-arrow-right"></i></a>
                                    </div><!-- .End .tab-pane -->



                                    <!-- her is address located -->
                                    <div class="tab-pane fade" id="tab-address" role="tabpanel"
                                        aria-labelledby="tab-address-link">
                                        <div class="address-container">
                                            <div class="product-details-action">
                                                <a href="#add-Address-modal" class="btn-product btn-cart"
                                                    id="addAddressBtn" data-toggle="modal"><span>Add new
                                                        Address</span></a>
                                            </div><!-- End .product-details-action -->

                                            <div style="width: 100%; " class="row">
                                                <% if(address && address.address && address.address.length> 0) { %>
                                                    <% address.address.forEach((address, index)=> { %>
                                                        <div class="col-lg-6">
                                                            <div class="address-card">
                                                                <div class="card-body">
                                                                    <h3 class="card-title  " style="font-weight: bold;">
                                                                        Address <%= index + 1 %>
                                                                    </h3>
                                                                    <p style="font-weight: 400;">
                                                                        <%= address.name %><br>
                                                                            <%= address.address %><br>
                                                                                <%= address.city %><br>
                                                                                    <%= address.state %>, PIN: <%=
                                                                                            address.pincode %><br>
                                                                                            <%= address.phone %><br>
                                                                                                <%= address.email %><br>
                                                                    </p>
                                                                    <div class="address-buttons">
                                                                        <button type="button"
                                                                            class="btn btn-outline-primary-2"
                                                                            onclick="editAddress(address='<%= address.address %>', name='<%= address.name %>', email='<%= address.email %>', phone='<%= address.phone %>', pincode='<%= address.pincode %>', landmark='<%= address.landmark %>', city='<%= address.city %>', district='<%= address.district %>', state='<%= address.state %>', id='<%= address._id %>')">Edit</button>
                                                                        <button type="button"
                                                                            class="btn btn-outline-primary-2"
                                                                            onclick="deleteAddress(id='<%= address._id %>')">Delete</button>
                                                                    </div>
                                                                </div><!-- End .card-body -->
                                                            </div><!-- End .address-card -->
                                                        </div><!-- End .col-lg-6 -->
                                                        <% }) %>
                                                            <div class="product-details-action">
                                                                <a href="#" class="btn-product btn-cart"><span>Show All
                                                                        Address</span></a>
                                                            </div><!-- End .product-details-action -->
                                                            <% } else { %>
                                                                <p>No address has been added yet.</p>
                                                                <% } %>
                                            </div><!-- End .row -->
                                        </div><!-- End .address-container -->
                                    </div><!-- .End .tab-pane -->

                                    <div class="tab-pane fade" id="tab-wallet" role="tabpanel"
                                        aria-labelledby="tab-wallet-link">
                                        <div class="wallet-tab">
                                            <div class="wallet-container">
                                                <div class="wallet-card">
                                                    <h2>My Wallet</h2>
                                                    <div class="wallet-details">
                                                        <p><strong>Balance:</strong> ₹<span id="wallet-balance">
                                                            <%= wallet.wallet.toFixed(0) %>
                                                            </span></p>
                                                    </div>
                                                    

                                                   
<div class="wallet-actions">
    <%if(slicedWalletHistory && slicedWalletHistory.length ){%>
    <table id="tablePagination"
        class="table table-bordered table-hover table-striped">

        <thead class="thead-dark">
            <tr>
                <th scope="col">Sl.No.</th>
                <th scope="col">Date</th>
                <th scope="col">Amount</th>
                <th scope="col">Details</th>
            </tr>
        </thead>
        <tbody>
            <% const limit = 10; %>
            <% const startingIndex = (currentPage - 1) * limit + 1; %>
            <% slicedWalletHistory.forEach((val, index) => { %>
                <tr>
                    <td style="font-weight: bold;">
                        <%= startingIndex + index %>
                    </td>
                    <td style="font-weight: bold;">
                        <%= val.date.toLocaleDateString('en-US', {
                            weekday: 'short',
                            year: 'numeric',
                            month: 'short',
                            day: 'numeric',
                            hour: '2-digit',
                            minute: '2-digit'
                        }) %>
                    </td>
                    <% if(val.amount > 0) { %>
                        <td class="text-success" style="font-weight: bold;">₹<%= val.amount.toFixed(0) %></td>
                        <td style="font-weight: bold;">
                            <h7 class="text-success">Credited</h7>
                        </td>
                    <% } else { %>
                        <td class="text-danger" style="font-weight: bold;">₹<%= Math.abs(val.amount).toFixed(0) %></td>
                        <td style="font-weight: bold;">
                            <h7 class="text-danger">Debited</h7>
                        </td>
                    <% } %>
                </tr>
            <% }) %>
        </tbody>
    </table>   
                                                    <% }else{%>
                                                        <h7>No Wallet History Available</h7>

                                                     <%}  %>                                                   <div class="pagination">
                                                            <% const maxVisiblePages = 5; %>
                                                            <% const half = Math.floor(maxVisiblePages / 2); %>
                                                        
                                                            <% const startPage = Math.max(1, currentPage - half); %>
                                                            <% const endPage = Math.min(startPage + maxVisiblePages - 1, totalPages); %>
                                                        
                                                            <% if (startPage > 1) { %>
                                                                <a href="/dashboard?page=1" class="btn btn-sm btn-outline-primary">1</a>
                                                                <% if (startPage > 2) { %>
                                                                    <span class="btn btn-sm btn-outline-secondary">...</span>
                                                                <% } %>
                                                            <% } %>
                                                        
                                                            <% for (let i = startPage; i <= endPage; i++) { %>
                                                                <% if (i === currentPage) { %>
                                                                    <span class="btn btn-sm btn-outline-secondary"><%= i %></span>
                                                                <% } else { %>
                                                                    <a href="/dashboard?page=<%= i %>" class="btn btn-sm btn-outline-primary"><%= i %></a>
                                                                <% } %>
                                                            <% } %>
                                                        
                                                            <% if (endPage < totalPages) { %>
                                                                <% if (endPage < totalPages - 1) { %>
                                                                    <span class="btn btn-sm btn-outline-secondary">...</span>
                                                                <% } %>
                                                                <a href="/dashboard?page=<%= totalPages %>" class="btn btn-sm btn-outline-primary"><%= totalPages %></a>
                                                            <% } %>
                                                        </div>
                                                        
                                                        
                                                        
                                                        

                                                        
                                                     
                                                        

                                                    </div>

                                                </div>
                                            </div>
                                        </div>

                                    </div>
                                    <div class="tab-pane fade" id="tab-coupon" role="tabpanel" aria-labelledby="tab-coupon-link">
                                        <div class="coupon-tab">
                                            <div class="coupon-container ">
                                                <div class="coupon-card ">
                                                    <h2>My Coupon</h2>
                                                    
                                                  
                                                    <div style="max-width: 100vw; display: grid; grid-template-columns: repeat(auto-fill, minmax(23%, 1fr)); gap: 20px; padding: 20px;">
                                                        <%if(coupon && coupon.length){%>
                                                            
                                                        <% coupon.forEach((val, index) => { %>
                                                            <% if( val.expiryDate < new Date() ){ %>
                                                                <div class="card" style="width: 100%; padding: 15px; margin-bottom: 20px; background-color: #f2f2f2; border: 1px solid #ccc;">
                                                                    <div class="text-right p-2"></div>
                                                                    <div class="text-center mb-1" style="font-size: 1.5rem; font-weight: bolder; color: #888;">
                                                                        <h7 style="font-weight: bolder; text-decoration: line-through;"><%= val.name %></h7>
                                                                    </div>
                                                                    <div class="d-flex justify-content-center px-2">
                                                                        <div class="d-flex flex-row">
                                                                            <h1 class="mt-0 off" style="font-size: 2rem; color: #888;"><%= val.discountAmount %>% OFF</h1>
                                                                            <sup class="mt-2 text-primary star" style="font-size: 1rem; color: #888;">*</sup>
                                                                        </div>
                                                                    </div>
                                                                    <div class="line"></div>
                                                                    <div class="text-center">
                                                                        <span class="text-uppercase" style="font-size: 0.8rem; color: #888;">Start from <%= val.activationDate.toLocaleDateString('en-US', {
                                                                            year: 'numeric',
                                                                            month: 'short',
                                                                            day:'numeric'
                                                                        }) %></span>
                                                                    </div>
                                                                    <div class="text-center">
                                                                        <span class="text-uppercase" style="font-size: 0.8rem; color: #888;">Valid till <%= val.expiryDate.toLocaleDateString('en-US', {
                                                                            year: 'numeric',
                                                                            month: 'short',
                                                                            day:'numeric'
                                                                        }) %></span>
                                                                    </div>
                                                                    <div class="text-center" style="color: red; font-weight: bold;">
                                                                        <span>Expired</span>
                                                                    </div>
                                                                </div>
                                                                <%}else if(val.usedUser.includes(user._id) ){%> 
                                                                    <div class="card" style="width: 100%; padding: 15px; margin-bottom: 20px; background-color: #f2f2f2; border: 1px solid #ccc;">
                                                                        <div class="text-right p-2"></div>
                                                                        <div class="text-center mb-1" style="font-size: 1.5rem; font-weight: bolder; color: #888;">
                                                                            <h7 style="font-weight: bolder; text-decoration: line-through;"><%= val.name %></h7>
                                                                        </div>
                                                                        <div class="d-flex justify-content-center px-2">
                                                                            <div class="d-flex flex-row">
                                                                                <h1 class="mt-0 off" style="font-size: 2rem; color: #888;"><%= val.discountAmount %>% OFF</h1>
                                                                                <sup class="mt-2 text-primary star" style="font-size: 1rem; color: #888;">*</sup>
                                                                            </div>
                                                                        </div>
                                                                        <div class="line"></div>
                                                                        <div class="text-center">
                                                                            <span class="text-uppercase" style="font-size: 0.8rem; color: #888;">Start from <%= val.activationDate.toLocaleDateString('en-US', {
                                                                                year: 'numeric',
                                                                                month: 'short',
                                                                                day:'numeric'
                                                                            }) %></span>
                                                                        </div>
                                                                        <div class="text-center">
                                                                            <span class="text-uppercase" style="font-size: 0.8rem; color: #888;">Valid till <%= val.expiryDate.toLocaleDateString('en-US', {
                                                                                year: 'numeric',
                                                                                month: 'short',
                                                                                day:'numeric',
                                                                            }) %></span>
                                                                        </div>
                                                                        <div class="text-center" style="color: red; font-weight: bold;">
                                                                            <span>Already Used</span>
                                                                        </div>
                                                                    </div>
                                                            <% } else { %>
                                                                <!-- Active coupon design -->
                                                                <div class="card" style="width: 100%; padding: 15px; margin-bottom: 20px;">
                                                                    <div class="text-right p-2"></div>
                                                                    <div class="text-center mb-1" style="font-size: 1.5rem; font-weight: bolder;">
                                                                        <h7 style="font-weight: bolder;"><%= val.name %></h7>
                                                                    </div>
                                                                    <div class="d-flex justify-content-center px-2">
                                                                        <div class="d-flex flex-row">
                                                                            <h1 class="mt-0 off" style="font-size: 2rem;"><%= val.discountAmount %>% OFF</h1>
                                                                            <sup class="mt-2 text-primary star" style="font-size: 1rem;">*</sup>
                                                                        </div>
                                                                    </div>
                                                                    <div class="line"></div>
                                                                    <div class="text-center">
                                                                        <span class="text-uppercase" style="font-size: 0.8rem;">Start from <%= val.activationDate.toLocaleDateString('en-US', {
                                                                            year: 'numeric',
                                                                            month: 'short',
                                                                            day:'numeric',
                                                                        }) %></span>
                                                                    </div>
                                                                    <div class="text-center">
                                                                        <span class="text-uppercase" style="font-size: 0.8rem;">Valid till <%= val.expiryDate.toLocaleDateString('en-US', {
                                                                            year: 'numeric',
                                                                            month: 'short',
                                                                            day:'numeric',
                                                                        }) %></span>
                                                                        <div class="text-center" style="color: green; font-weight: bold;">
                                                                            <span>Available</span>
                                                                        </div>
                                                                    </div>
                                                                </div>
                                                            <% } %>
                                                        <% }) %>
                                                        <%}else{%>
                                                            <h7>No coupons Available</h7>
                                                        <%}%>
                                                    </div>
                                                    
                                            </div>
                                        </div>
                                    </div>
                                    
                                    

                                </div>

                                
                            </div><!-- End .col-lg-9 -->
                        </div><!-- End .row -->
                    </div><!-- End .container -->
                </div><!-- End .dashboard -->
            </div><!-- End .page-content -->
        </main><!-- End .main -->

        <footer class="footer">
            <div class="footer-middle">
                <div class="container">
                    <div class="row">
                        <div class="col-sm-6 col-lg-3">
                            <div class="widget widget-about">
                                <img src="assets/images/logo.png" class="footer-logo" alt="Footer Logo" width="105"
                                    height="25">
                                <p>Praesent dapibus, neque id cursus ucibus, tortor neque egestas augue, eu vulputate
                                    magna eros eu erat. </p>

                                <div class="social-icons">
                                    <a href="#" class="social-icon" target="_blank" title="Facebook"><i
                                            class="icon-facebook-f"></i></a>
                                    <a href="#" class="social-icon" target="_blank" title="Twitter"><i
                                            class="icon-twitter"></i></a>
                                    <a href="#" class="social-icon" target="_blank" title="Instagram"><i
                                            class="icon-instagram"></i></a>
                                    <a href="#" class="social-icon" target="_blank" title="Youtube"><i
                                            class="icon-youtube"></i></a>
                                    <a href="#" class="social-icon" target="_blank" title="Pinterest"><i
                                            class="icon-pinterest"></i></a>
                                </div><!-- End .soial-icons -->
                            </div><!-- End .widget about-widget -->
                        </div><!-- End .col-sm-6 col-lg-3 -->

                        <div class="col-sm-6 col-lg-3">
                            <div class="widget">
                                <h4 class="widget-title">Useful Links</h4><!-- End .widget-title -->

                                <ul class="widget-list">
                                    <li><a href="about.html">About Molla</a></li>
                                    <li><a href="#">How to shop on Molla</a></li>
                                    <li><a href="#">FAQ</a></li>
                                    <li><a href="contact.html">Contact us</a></li>
                                    <li><a href="login.html">Log in</a></li>
                                </ul><!-- End .widget-list -->
                            </div><!-- End .widget -->
                        </div><!-- End .col-sm-6 col-lg-3 -->

                        <div class="col-sm-6 col-lg-3">
                            <div class="widget">
                                <h4 class="widget-title">Customer Service</h4><!-- End .widget-title -->

                                <ul class="widget-list">
                                    <li><a href="#">Payment Methods</a></li>
                                    <li><a href="#">Money-back guarantee!</a></li>
                                    <li><a href="#">Returns</a></li>
                                    <li><a href="#">Shipping</a></li>
                                    <li><a href="#">Terms and conditions</a></li>
                                    <li><a href="#">Privacy Policy</a></li>
                                </ul><!-- End .widget-list -->
                            </div><!-- End .widget -->
                        </div><!-- End .col-sm-6 col-lg-3 -->

                        <div class="col-sm-6 col-lg-3">
                            <div class="widget">
                                <h4 class="widget-title">My Account</h4><!-- End .widget-title -->

                                <ul class="widget-list">
                                    <li><a href="#">Sign In</a></li>
                                    <li><a href="cart.html">View Cart</a></li>
                                    <li><a href="#">My Wishlist</a></li>
                                    <li><a href="#">Track My Order</a></li>
                                    <li><a href="#">Help</a></li>
                                </ul><!-- End .widget-list -->
                            </div><!-- End .widget -->
                        </div><!-- End .col-sm-6 col-lg-3 -->
                    </div><!-- End .row -->
                </div><!-- End .container -->
            </div><!-- End .footer-middle -->

            <div class="footer-bottom">
                <div class="container">
                    <p class="footer-copyright">Copyright © 2019 Molla Store. All Rights Reserved.</p>
                    <!-- End .footer-copyright -->
                    <figure class="footer-payments">
                        <img src="assets/images/payments.png" alt="Payment methods" width="272" height="20">
                    </figure><!-- End .footer-payments -->
                </div><!-- End .container -->
            </div><!-- End .footer-bottom -->
        </footer><!-- End .footer -->
    </div><!-- End .page-wrapper -->
    <button id="scroll-top" title="Back to Top"><i class="icon-arrow-up"></i></button>

    <!-- Mobile Menu -->
    <div class="mobile-menu-overlay"></div><!-- End .mobil-menu-overlay -->

    <div class="mobile-menu-container">
        <div class="mobile-menu-wrapper">
            <span class="mobile-menu-close"><i class="icon-close"></i></span>



            <nav class="mobile-nav">
                <ul class="mobile-menu">
                    <li class="active">
                        <a href="index.html">Home</a>

                        <ul>
                            <li><a href="index-1.html">01 - furniture store</a></li>
                            <li><a href="index-2.html">02 - furniture store</a></li>
                            <li><a href="index-3.html">03 - electronic store</a></li>
                            <li><a href="index-4.html">04 - electronic store</a></li>
                            <li><a href="index-5.html">05 - fashion store</a></li>
                            <li><a href="index-6.html">06 - fashion store</a></li>
                            <li><a href="index-7.html">07 - fashion store</a></li>
                            <li><a href="index-8.html">08 - fashion store</a></li>
                            <li><a href="index-9.html">09 - fashion store</a></li>
                            <li><a href="index-10.html">10 - shoes store</a></li>
                            <li><a href="index-11.html">11 - furniture simple store</a></li>
                            <li><a href="index-12.html">12 - fashion simple store</a></li>
                            <li><a href="index-13.html">13 - market</a></li>
                            <li><a href="index-14.html">14 - market fullwidth</a></li>
                            <li><a href="index-15.html">15 - lookbook 1</a></li>
                            <li><a href="index-16.html">16 - lookbook 2</a></li>
                            <li><a href="index-17.html">17 - fashion store</a></li>
                            <li><a href="index-18.html">18 - fashion store (with sidebar)</a></li>
                            <li><a href="index-19.html">19 - games store</a></li>
                            <li><a href="index-20.html">20 - book store</a></li>
                            <li><a href="index-21.html">21 - sport store</a></li>
                            <li><a href="index-22.html">22 - tools store</a></li>
                            <li><a href="index-23.html">23 - fashion left navigation store</a></li>
                            <li><a href="index-24.html">24 - extreme sport store</a></li>
                        </ul>
                    </li>
                    <li>
                        <a href="category.html">Shop</a>
                        <ul>
                            <li><a href="category-list.html">Shop List</a></li>
                            <li><a href="category-2cols.html">Shop Grid 2 Columns</a></li>
                            <li><a href="category.html">Shop Grid 3 Columns</a></li>
                            <li><a href="category-4cols.html">Shop Grid 4 Columns</a></li>
                            <li><a href="category-boxed.html"><span>Shop Boxed No Sidebar<span
                                            class="tip tip-hot">Hot</span></span></a></li>
                            <li><a href="category-fullwidth.html">Shop Fullwidth No Sidebar</a></li>
                            <li><a href="product-category-boxed.html">Product Category Boxed</a></li>
                            <li><a href="product-category-fullwidth.html"><span>Product Category Fullwidth<span
                                            class="tip tip-new">New</span></span></a></li>
                            <li><a href="cart.html">Cart</a></li>
                            <li><a href="checkout.html">Checkout</a></li>
                            <li><a href="wishlist.html">Wishlist</a></li>
                            <li><a href="#">Lookbook</a></li>
                        </ul>
                    </li>
                    <li>
                        <a href="product.html" class="sf-with-ul">Product</a>
                        <ul>
                            <li><a href="product.html">Default</a></li>
                            <li><a href="product-centered.html">Centered</a></li>
                            <li><a href="product-extended.html"><span>Extended Info<span
                                            class="tip tip-new">New</span></span></a></li>
                            <li><a href="product-gallery.html">Gallery</a></li>
                            <li><a href="product-sticky.html">Sticky Info</a></li>
                            <li><a href="product-sidebar.html">Boxed With Sidebar</a></li>
                            <li><a href="product-fullwidth.html">Full Width</a></li>
                            <li><a href="product-masonry.html">Masonry Sticky Info</a></li>
                        </ul>
                    </li>
                    <li>
                        <a href="#">Pages</a>
                        <ul>
                            <li>
                                <a href="about.html">About</a>

                                <ul>
                                    <li><a href="about.html">About 01</a></li>
                                    <li><a href="about-2.html">About 02</a></li>
                                </ul>
                            </li>
                            <li>
                                <a href="contact.html">Contact</a>

                                <ul>
                                    <li><a href="contact.html">Contact 01</a></li>
                                    <li><a href="contact-2.html">Contact 02</a></li>
                                </ul>
                            </li>
                            <li><a href="login.html">Login</a></li>
                            <li><a href="faq.html">FAQs</a></li>
                            <li><a href="404.html">Error 404</a></li>
                            <li><a href="coming-soon.html">Coming Soon</a></li>
                        </ul>
                    </li>
                    <li>
                        <a href="blog.html">Blog</a>

                        <ul>
                            <li><a href="blog.html">Classic</a></li>
                            <li><a href="blog-listing.html">Listing</a></li>
                            <li>
                                <a href="#">Grid</a>
                                <ul>
                                    <li><a href="blog-grid-2cols.html">Grid 2 columns</a></li>
                                    <li><a href="blog-grid-3cols.html">Grid 3 columns</a></li>
                                    <li><a href="blog-grid-4cols.html">Grid 4 columns</a></li>
                                    <li><a href="blog-grid-sidebar.html">Grid sidebar</a></li>
                                </ul>
                            </li>
                            <li>
                                <a href="#">Masonry</a>
                                <ul>
                                    <li><a href="blog-masonry-2cols.html">Masonry 2 columns</a></li>
                                    <li><a href="blog-masonry-3cols.html">Masonry 3 columns</a></li>
                                    <li><a href="blog-masonry-4cols.html">Masonry 4 columns</a></li>
                                    <li><a href="blog-masonry-sidebar.html">Masonry sidebar</a></li>
                                </ul>
                            </li>
                            <li>
                                <a href="#">Mask</a>
                                <ul>
                                    <li><a href="blog-mask-grid.html">Blog mask grid</a></li>
                                    <li><a href="blog-mask-masonry.html">Blog mask masonry</a></li>
                                </ul>
                            </li>
                            <li>
                                <a href="#">Single Post</a>
                                <ul>
                                    <li><a href="single.html">Default with sidebar</a></li>
                                    <li><a href="single-fullwidth.html">Fullwidth no sidebar</a></li>
                                    <li><a href="single-fullwidth-sidebar.html">Fullwidth with sidebar</a></li>
                                </ul>
                            </li>
                        </ul>
                    </li>
                    <li>
                        <a href="elements-list.html">Elements</a>
                        <ul>
                            <li><a href="elements-products.html">Products</a></li>
                            <li><a href="elements-typography.html">Typography</a></li>
                            <li><a href="elements-titles.html">Titles</a></li>
                            <li><a href="elements-banners.html">Banners</a></li>
                            <li><a href="elements-product-category.html">Product Category</a></li>
                            <li><a href="elements-video-banners.html">Video Banners</a></li>
                            <li><a href="elements-buttons.html">Buttons</a></li>
                            <li><a href="elements-accordions.html">Accordions</a></li>
                            <li><a href="elements-tabs.html">Tabs</a></li>
                            <li><a href="elements-testimonials.html">Testimonials</a></li>
                            <li><a href="elements-blog-posts.html">Blog Posts</a></li>
                            <li><a href="elements-portfolio.html">Portfolio</a></li>
                            <li><a href="elements-cta.html">Call to Action</a></li>
                            <li><a href="elements-icon-boxes.html">Icon Boxes</a></li>
                        </ul>
                    </li>
                </ul>
            </nav><!-- End .mobile-nav -->

            <div class="social-icons">
                <a href="#" class="social-icon" target="_blank" title="Facebook"><i class="icon-facebook-f"></i></a>
                <a href="#" class="social-icon" target="_blank" title="Twitter"><i class="icon-twitter"></i></a>
                <a href="#" class="social-icon" target="_blank" title="Instagram"><i class="icon-instagram"></i></a>
                <a href="#" class="social-icon" target="_blank" title="Youtube"><i class="icon-youtube"></i></a>
            </div><!-- End .social-icons -->
        </div><!-- End .mobile-menu-wrapper -->
    </div><!-- End .mobile-menu-container -->


    <div class="modal fade" id="add-Address-modal" tabindex="-1" role="dialog" aria-hidden="true">
        <div class="modal-dialog modal-dialog-centered" role="document">
            <div class="modal-content">
                <div class="modal-body">
                    <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                        <span aria-hidden="true"><i class="icon-close"></i></span>
                    </button>

                    <div class="form-box">
                        <div class="form-tab">
                            <ul class="nav nav-pills nav-fill" role="tablist">

                                <a class="nav-link active" id="signin-tab" data-toggle="tab" role="tab"
                                    aria-controls="signin" aria-selected="true">Add New Address</a>


                            </ul>
                            <div class="tab-content" id="tab-content-5">
                                <div class="tab-pane fade show active" id="signin" role="tabpanel"
                                    aria-labelledby="signin-tab">
                                    <form id="addForm" action="/addAddress" method="post">
                                        <div class="row">

                                            <div class="form-group">
                                                <label for="singin-email">Name *</label>
                                                <input type="text" class="form-control" id="add-name" name="name">
                                                <span class="text-danger" id="pnameError"></span>
                                            </div><!-- End .form-group -->


                                            <div class="form-group ml-5 pl-4">
                                                <label for="">Email *</label>
                                                <input type="email" class="form-control" id="add-email" name="email">
                                                <span class="text-danger" id="pemailError"></span>
                                            </div><!-- End .form-group -->

                                        </div>
                                        <div class="form-group">
                                            <label for="">Address *</label>
                                            <input type="text" class="form-control" id="add-address" name="address">
                                            <span class="text-danger" id="paddressError"></span>
                                        </div><!-- End .form-group -->

                                        <div class="row">
                                            <div class="form-group ">
                                                <label for="">Landmark *</label>
                                                <input type="text" class="form-control" id="add-landmark"
                                                    name="landmark">
                                                <span class="text-danger" id="plandmarkError"></span>

                                            </div><!-- End .form-group -->


                                            <div class="form-group ml-5 pl-4">
                                                <label for="">City *</label>
                                                <input type="text" class="form-control" id="add-city" name="city">
                                                <span class="text-danger" id="pcityError"></span>

                                            </div><!-- End .form-group -->
                                        </div>
                                        <div class="row">

                                            <div class="form-group">
                                                <label for="">District *</label>
                                                <input type="text" class="form-control" id="add-district"
                                                    name="district">
                                                <span class="text-danger" id="pdistrictError"></span>

                                            </div><!-- End .form-group -->


                                            <div class="form-group ml-5 pl-4">
                                                <label for="">State *</label>
                                                <input type="text" class="form-control" id="add-state" name="state">
                                                <span class="text-danger" id="pstateError"></span>

                                            </div><!-- End .form-group -->

                                        </div>
                                        <div class="row">

                                            <div class="form-group">
                                                <label for="">Pincode *</label>
                                                <input type="number" class="form-control" id="add-pincode"
                                                    name="pincode">
                                                <span class="text-danger" id="ppincodeError"></span>

                                            </div><!-- End .form-group -->


                                            <div class="form-group ml-5 pl-4">
                                                <label for="">Phone Number *</label>
                                                <input type="number" class="form-control" id="add-phone" name="phone">
                                                <span class="text-danger" id="pphoneError"></span>

                                            </div><!-- End .form-group -->
                                        </div>
                                        <input type="hidden" name="redirect" value="checkout">

                                        <div class="form-footer">
                                            <button type="submit" class="btn btn-outline-primary-2"
                                                onclick="validateForm(event)">
                                                <span>ADD ADDRESS</span>
                                                <i class="icon-long-arrow-right"></i>
                                            </button>



                                        </div><!-- End .custom-checkbox -->


                                </div><!-- End .form-footer -->
                                </form>
                                <div class="form-choice">

                                    <div class="row">


                                    </div><!-- End .row -->
                                </div><!-- End .form-choice -->
                            </div><!-- .End .tab-pane -->

                        </div><!-- End .tab-content -->
                    </div><!-- End .form-tab -->
                </div><!-- End .form-box -->
            </div><!-- End .modal-body -->
        </div><!-- End .modal-content -->
    </div><!-- End .modal-dialog -->






    <div class="modal fade" id="edit-profile-modal" tabindex="-1" role="dialog" aria-hidden="true">
        <div class="modal-dialog modal-dialog-centered" role="document">
            <div class="modal-content">
                <div class="modal-body">
                    <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                        <span aria-hidden="true"><i class="icon-close"></i></span>
                    </button>

                    <div class="form-box">
                        <div class="form-tab">
                            <ul class="nav nav-pills nav-fill" role="tablist">

                                <a class="nav-link active" id="signin-tab" data-toggle="tab" role="tab"
                                    aria-controls="signin" aria-selected="true">Edit Profile</a>


                            </ul>
                            <div class="tab-content" id="tab-content-5">
                                <div class="tab-pane fade show active" id="signin" role="tabpanel"
                                    aria-labelledby="signin-tab">
                                    <form action="/editProfile" id="addForm" method="post">
                                        <div class="row">

                                            <div class="form-group">
                                                <label for="singin-email">Name *</label>
                                                <input type="text" class="form-control" id="add-name" name="name"
                                                    value="<%= user.name%>">
                                                <span class="text-danger" id="pnameError"></span>
                                            </div><!-- End .form-group -->






                                            <div class="form-group ml-5 pl-4">
                                                <label for="">Phone Number *</label>
                                                <input type="number" class="form-control" id="add-phone" name="phone"
                                                    value="<%= user.mobile%>">
                                                <span class="text-danger" id="pphoneError"></span>

                                            </div><!-- End .form-group -->
                                        </div>


                                        <div class="form-footer">
                                            <button type="submit" class="btn btn-outline-primary-2"
                                                onclick="validateProfile(event)">
                                                <span>Edit Profile</span>
                                                <i class="icon-long-arrow-right"></i>
                                            </button>


                                    </form>
                                </div><!-- End .custom-checkbox -->


                            </div><!-- End .form-footer -->

                            <div class="form-choice">

                                <div class="row">


                                </div><!-- End .row -->
                            </div><!-- End .form-choice -->
                        </div><!-- .End .tab-pane -->

                    </div><!-- End .tab-content -->
                </div><!-- End .form-tab -->
            </div><!-- End .form-box -->
        </div><!-- End .modal-body -->
    </div><!-- End .modal-content -->
    </div><!-- End .modal-dialog -->

    </div><!-- End .modal -->

    <script src="assets/js/jquery.min.js"></script>
    <script src="assets/js/bootstrap.bundle.min.js"></script>
    <script src="assets/js/jquery.hoverIntent.min.js"></script>
    <script src="assets/js/jquery.waypoints.min.js"></script>
    <script src="assets/js/superfish.min.js"></script>
    <script src="assets/js/owl.carousel.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/sweetalert2@10"></script>

    <script src="assets/js/main.js"></script>
    <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
    <script>
        function populateModal() {
            var userName = document.getElementById('profile-name').innerText;

            var userEmail = document.getElementById('profile-email').innerText;
            var userMobile = document.getElementById('profile-mobile').innerText;

            document.getElementById('add-name').value = userName;

            $('#edit-profile-modal').modal('show');
        }

        document.querySelector('.edit-button').addEventListener('click', populateModal);
    </script>
    <script>
        function editAddress(address, name, email, phone, pincode, landmark, city, district, state, id) {
            Swal.fire({
                title: 'Edit Address',
                html:
                    '<div class="input-group">' +
                    '<label for="name">Name</label>' +
                    '<input type="text" id="name" value="' + name + '" class="swal2-input">' +
                    '<div class="warning text-danger" id="name-warning"></div>' +
                    '</div>' +
                    '<div class="input-group">' +
                    '<label for="email">Email</label>' +
                    '<input id="email"  type="email" value="' + email + '" class="swal2-input">' +
                    '<div class="warning text-danger" id="email-warning"></div>' +
                    '</div>' +
                    '<div class="input-group">' +
                    '<label for="phone">Phone</label>' +
                    '<input id="phone" type="number" value="' + phone + '" class="swal2-input">' +
                    '<div class="warning text-danger" id="phone-warning"></div>' +
                    '</div>' +
                    '<div class="input-group">' +
                    '<label for="address">Address</label>' +
                    '<input id="address" type="text" value="' + address + '" class="swal2-input input-group ">' +
                    '<div class="warning text-danger" id="address-warning"></div>' +
                    '</div>' +
                    '<div class="input-group">' +
                    '<label for="landmark">Landmark</label>' +
                    '<input id="landmark" type="text" value="' + landmark + '" class="swal2-input">' +
                    '<div class="warning text-danger" id="landmark-warning"></div>' +
                    '</div>' +
                    '<div class="input-group">' +
                    '<label for="city">City</label>' +
                    '<input id="city" type="text" value="' + city + '" class="swal2-input">' +
                    '<div class="warning text-danger" id="city-warning"></div>' +
                    '</div>' +
                    '<div class="input-group">' +
                    '<label for="district">District</label>' +
                    '<input id="district" type="text" value="' + district + '" class="swal2-input">' +
                    '<div class="warning text-danger" id="district-warning"></div>' +
                    '</div>' +
                    '<div class="input-group">' +
                    '<label for="state">State</label>' +
                    '<input id="state" type="text" value="' + state + '" class="swal2-input">' +
                    '<div class="warning text-danger" id="state-warning"></div>' +
                    '</div>' +
                    '<div class="input-group">' +
                    '<label for="pincode">Pincode</label>' +
                    '<input id="pincode" type="number" value="' + pincode + '" class="swal2-input">' +
                    '<div class="warning text-danger" id="pincode-warning"></div>' +
                    '</div>',
                focusConfirm: false,
                preConfirm: () => {
                    const name = document.getElementById('name').value;
                    const email = document.getElementById('email').value;
                    const phone = document.getElementById('phone').value;
                    const address = document.getElementById('address').value;
                    const landmark = document.getElementById('landmark').value;
                    const city = document.getElementById('city').value;
                    const district = document.getElementById('district').value;
                    const state = document.getElementById('state').value;
                    const pincode = document.getElementById('pincode').value;

                    if (!name || !email || !phone || !address || !city || !district || !state || !pincode) {


                        if (!name) document.getElementById('name-warning').innerText = 'Name is required';
                        else document.getElementById('name-warning').innerText = '';

                        if (!email) document.getElementById('email-warning').innerText = 'Email is required';
                        else document.getElementById('email-warning').innerText = '';

                        if (!phone) document.getElementById('phone-warning').innerText = 'Phone is required';
                        else document.getElementById('phone-warning').innerText = '';

                        if (!pincode) document.getElementById('pincode-warning').innerText = 'pincode is required';
                        else document.getElementById('pincode-warning');


                        if (!state) document.getElementById('state-warning').innerText = 'State is required';
                        else document.getElementById('state-warning');


                        if (!district) document.getElementById('district-warning').innerText = 'District is required';
                        else document.getElementById('district-warning');


                        if (!city) document.getElementById('city-warning').innerText = 'City is required';
                        else document.getElementById('city-warning');


                        if (!landmark) document.getElementById('landmark-warning').innerText = 'Landmark is required';
                        else document.getElementById('landmark-warning');


                        if (!address) document.getElementById('address-warning').innerText = 'Address is required';
                        else document.getElementById('address-warning');


                        return false;
                    } else if (pincode.trim() === "" || phone.trim() === "" || email.trim() === "" || name.trim() === "" || address.trim() === "" || city.trim() === "" || landmark.trim() === "" || district.trim() === "" || state.trim() === "") {
                        if (name.trim() === "") document.getElementById('name-warning').innerText = 'Leading spaces not allowed';
                        else document.getElementById('name-warning').innerText = '';

                        if (email.trim() === "") document.getElementById('email-warning').innerText = 'Leading spaces not allowed';
                        else document.getElementById('email-warning').innerText = '';

                        // if (phone.trim() ==="") document.getElementById('phone-warning').innerText = 'Please enter correct phone number';
                        // else document.getElementById('phone-warning').innerText = '';

                        if (pincode.trim() === "") document.getElementById('pincode-warning').innerText = 'Leading spaces not allowed';
                        else document.getElementById('pincode-warning');


                        if (state.trim() === "") document.getElementById('state-warning').innerText = 'Leading spaces not allowed';
                        else document.getElementById('state-warning');


                        if (district.trim() === "") document.getElementById('district-warning').innerText = 'Leading spaces not allowed';
                        else document.getElementById('district-warning');


                        if (city.trim() === "") document.getElementById('city-warning').innerText = 'Leading spaces not allowed';
                        else document.getElementById('city-warning');


                        if (landmark.trim() === "") document.getElementById('landmark-warning').innerText = 'Leading spaces not allowed';
                        else document.getElementById('landmark-warning');


                        if (address.trim() === "") document.getElementById('address-warning').innerText = 'Leading spaces not allowed';
                        else document.getElementById('address-warning');



                        return false

                    } else if (phone.length !== 10) {

                        if (phone.length !== 10) document.getElementById('phone-warning').innerText = 'Please enter 10 digit  phone number';
                        else document.getElementById('phone-warning').innerText = '';

                        return false
                    } else {
                        const formData = {
                            address,
                            name,
                            email,
                            phone,
                            pincode,
                            landmark,
                            city,
                            district,
                            state, id
                        }


                        $.ajax({
                            url: '/edit-Address',
                            type: 'POST',
                            contentType: 'application/json',
                            data: JSON.stringify(formData)
                        }).then(() => {
                            location.reload()
                        })
                    }
                }
            });
        }
    </script>



    <script>
        function validateForm(event) {
            console.log("hiiihiaifvcjniuarnvva");
            event.preventDefault();
            const name = $("#add-name").val()
            const address = $("#add-address").val()
            const landmark = $("#add-landmark").val()
            const state = $("#add-state").val()
            const city = $("#add-city").val()
            const district = $("#add-district").val()
            const pincode = $("#add-pincode").val()
            const phone = $("#add-phone").val()
            const email = $("#add-email").val()

            $(".text-danger").text("");

            if (name.trim() === "") {
                $("#pnameError").text("Name is required")
            } else if (address.trim() === "") {
                $("#paddressError").text("Address is required")
            } else if (state.trim() === "") {
                $("#pstateError").text("State is required")
            } else if (city.trim() === "") {
                $("#pcityError").text("City i required")
            } else if (district.trim() === "") {
                $("#pdistrictError").text("District is required")
            } else if (pincode.trim() === "") {
                $("#ppincodeError").text("Pincode is required")
            } else if (phone.trim() === "") {
                $("#pphoneError").text("Phone number is required")
            } else if (email.trim() === "") {
                $("#pemailError").text("Email is required")
            }
            if (/^\s/.test(name)) {
                $("#pnameError").text("Leading spaces not allowed");
            } else if (/^\s/.test(address)) {
                $("#paddressError").text("Leading spaces not allowed");
            } else if (/^\s/.test(state)) {
                $("#pstateError").text("Leading spaces not allowed");
            } else if (/^\s/.test(city)) {
                $("#pcityError").text("Leading spaces not allowed");
            } else if (/^\s/.test(district)) {
                $("#pdistrictError").text("Leading spaces not allowed");
            } else if (/^\s/.test(pincode)) {
                $("#ppincodeError").text("Leading spaces not allowed");
            } else if (/^\s/.test(phone)) {
                $("#pphoneError").text("Leading spaces are allowed");
            } else if (/^\s/.test(email)) {
                $("#pemailError").text("Leading spaces are allowed");
            } else if (phone.length < 10) {
                $("#pphoneError").text("Enter 10 digit number   ");
            }
            // Check for any validation errors before submitting the form
            if (!$(".text-danger").text()) {
                $("#addForm").submit();
            } else {
                // Return false to prevent further processing
                return false;
            }
        }

    </script>
    <script>
        $(document).ready(function() {
            function loadWalletContent(page) {
                $.ajax({
                    url: '/dashboard',
                    type: 'GET',
                    data: { page: page },
                    success: function(data) {
                        var walletContent = $(data).find('#tab-wallet').html();
                        $('.wallet-tab').html(walletContent);
                    }
                });
            }
    
            loadWalletContent(1);
    
            $(document).on('click', '.pagination a', function(e) {
                e.preventDefault();
                var page = $(this).attr('href').split('page=')[1];
                loadWalletContent(page);
            });
        });
    </script>
    
    <script>
        function deleteAddress(id) {
            const addressId = { id }

            console.log("hii", id);
            $.ajax({
                url: '/deleteAddress',
                method: 'POST',
                contentType: 'application/json',
                data: JSON.stringify(addressId),
                success: function (response) {
                    console.log("finished");
                    window.location.href = '/Dashboard'
                },
                error: function (error) {
                    console.log('an error occured')
                }
            })
        }
    </script>
    <script>
        function validateProfile(event) {
            event.preventDefault()
            let name = document.getElementById('add-name').value;
            let phone = document.getElementById('add-phone').value
            console.log("hiiiiiiiiiiiiiiiiiiiiiiiiiii");

            if (name.trim() == '') {
                document.getElementById('pnameError').innerHTML = 'Leading space not allowed'
            } else if (phone.length != 10) {
                document.getElementById('pphoneError').innerHTML = 'Enter 10 Digit phone Number'

            } else {
                document.getElementById('add-name').value = name;
                document.getElementById('add-phone').value = phone
                document.querySelector('form').submit()
            }
        }
    </script>

</body>


<!-- molla/dashboard.html  22 Nov 2019 10:03:13 GMT -->

</html>